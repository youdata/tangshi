/*! For license information please see lib.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sand=t():e.sand=t()}(self,(()=>(()=>{var e={481:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=l(e),a=o[0],s=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(c(e,s,s+a>l?l:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},818:(e,t,n)=>{"use strict";const r=n(481),i=n(386),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=l,t.h2=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=s(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),s(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return C(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function y(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Y(r))return a;e[n+a]=r}return a}function w(e,t,n,r){return K(V(t,e.length-n),e,n,r)}function k(e,t,n,r){return K(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return K(q(t),e,n,r)}function E(e,t,n,r){return K(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)_(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):v.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(G(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<s;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function R(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function C(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function T(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function z(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i){Z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function O(e,t,n,r,i){Z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return t=+t,n>>>=0,o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return t=+t,n>>>=0,o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=X((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||z(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||z(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X((function(e,t=0){return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);z(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);z(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X((function(e,t=0){return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const D={};function F(e,t,n){D[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function P(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function Z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,i,o)}function H(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new D.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=P(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=P(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const $=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},386:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*g}},76:e=>{self,e.exports=(()=>{var e={801:(e,t,n)=>{n.g,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"EventEmitter",(function(){return l}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=function(e){return e instanceof Array?e:String(e).replace(/\s+/g,"").split(",")},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";i()(this,e),this.name=t,this.events={}}return a()(e,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof t)throw new TypeError("Invalid callback");return s(e).forEach((function(e){n.events[e]||(n.events[e]=[]),n.events[e].push({callback:t,options:r})})),this}},{key:"once",value:function(e,t){return this.on(e,t,{once:!0})}},{key:"off",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(e).filter((function(e){return!!t.events[e]})).forEach((function(e){if(n)for(var i=t.events[e].length;i--;){var o=t.events[e][i];(!o.options.persist||r)&&o.callback===n&&t.events[e].splice(i,1)}else t.events[e]=r?[]:t.events[e].filter((function(e){return!0===e.options.persist}))})),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s(e).forEach((function(e){if(t.events[e])for(var n=t.events[e].length;n--;){var i=t.events[e][n],o=i.options,a=i.callback;try{a.apply(void 0,r)}catch(e){console.warn(e)}o&&o.once&&t.events[e].splice(n,1)}})),this}}]),e}()}])},1:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(c,a))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t,n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(i);++a<n;)t=e[a],this.resolve(t).then((function(e){r||(r=!0,o.resolve(s,e))}),(function(e){r||(r=!0,o.reject(s,e))}));return s}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,f={},p=Object.prototype.toString,g="readonly",v="readwrite";function _(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function m(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a((function(t){var n=e.transaction(h,v),r=o([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return d=e}))}function b(e){var t=f[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function y(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function k(e,t){return new a((function(n,r){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),y(e)}}))}function x(e){return k(e,!1)}function E(e){return k(e,!0)}function S(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function A(e){return o([_(atob(e.data))],{type:e.type})}function I(e){return e&&e.__local_forage_encoded_blob}function R(e){var t=this,n=t._initReady().then((function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function C(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),E(e)})).then((function(){return function(e){b(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,x(e).then((function(t){return e.db=t,S(e)?E(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw w(e,t),t}))}(e).then((function(){C(e,t,n,r-1)}))})).catch(n);n(i)}}var N={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=f[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},f[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=R);var o=[];function s(){return a.resolve()}for(var l=0;l<i.forages.length;l++){var c=i.forages[l];c!==t&&o.push(c._initReady().catch(s))}var u=i.forages.slice(0);return a.all(o).then((function(){return n.db=i.db,x(n)})).then((function(e){return n.db=e,S(n,t._defaultConfig.version)?E(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){C(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;I(r)&&(r=A(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){C(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),I(e)&&(e=A(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=new a((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?m(o.db).then((function(e){return e?t:(n=t,new a((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){C(r._dbInfo,v,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){C(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){C(t._dbInfo,v,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){C(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){C(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,l=a.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){C(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var l=e.name===n.name&&o._dbInfo.db?a.resolve(o._dbInfo.db):x(e).then((function(t){var n=f[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?l.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=f[e.name],o=r.forages;t.close();for(var s=0;s<o.length;s++){var l=o[s];l._dbInfo.db=null,l._dbInfo.version=n}var c=new a((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,y(n._dbInfo)}})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}})):l.then((function(t){b(e);var n=f[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var s=new a((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++)y(r[t]._dbInfo)})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}))}else r=a.reject("Invalid arguments");return s(r,t),r}},T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,z="__lfsc__:",B=z.length,O="arbf",M="blob",U="si08",j="ui08",D="uic8",F="si16",P="si32",Z="ur16",H="ui32",W="fl32",$="fl64",V=B+O.length,q=Object.prototype.toString;function K(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=T.indexOf(e[t]),r=T.indexOf(e[t+1]),i=T.indexOf(e[t+2]),o=T.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}function G(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=T[n[t]>>2],r+=T[(3&n[t])<<4|n[t+1]>>4],r+=T[(15&n[t+1])<<2|n[t+2]>>6],r+=T[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Y={serialize:function(e,t){var n="";if(e&&(n=q.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===q.call(e.buffer))){var r,i=z;e instanceof ArrayBuffer?(r=e,i+=O):(r=e.buffer,"[object Int8Array]"===n?i+=U:"[object Uint8Array]"===n?i+=j:"[object Uint8ClampedArray]"===n?i+=D:"[object Int16Array]"===n?i+=F:"[object Uint16Array]"===n?i+=Z:"[object Int32Array]"===n?i+=P:"[object Uint32Array]"===n?i+=H:"[object Float32Array]"===n?i+=W:"[object Float64Array]"===n?i+=$:t(new Error("Failed to get type for BinaryArray"))),t(i+G(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+G(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,B)!==z)return JSON.parse(e);var t,n=e.substring(V),r=e.substring(B,V);if(r===M&&L.test(n)){var i=n.match(L);t=i[1],n=n.substring(i[0].length)}var a=K(n);switch(r){case O:return a;case M:return o([a],{type:t});case U:return new Int8Array(a);case j:return new Uint8Array(a);case D:return new Uint8ClampedArray(a);case F:return new Int16Array(a);case Z:return new Uint16Array(a);case P:return new Int32Array(a);case H:return new Uint32Array(a);case W:return new Float32Array(a);case $:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:K,bufferToString:G};function J(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function X(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):J(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Q(e,t,n,r){var i=this;e=c(e);var o=new a((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,l=i._dbInfo;l.serializer.serialize(t,(function(t,c){c?a(c):l.db.transaction((function(n){X(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Q.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return s(o,n),o}function ee(e){return new a((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var te={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new a((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){J(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Y,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return Q.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new a((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(ee(r))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){function i(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,l=e.storeNames.length;s<l;s++)o.push(i(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),r}};function ne(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var re={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=ne(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=Y,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new a((function(t){e.storeName?t(ne(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),s(r,t),r}},ie=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ae={},se={},le={INDEXEDDB:N,WEBSQL:te,LOCALSTORAGE:re},ce=[le.INDEXEDDB._driver,le.WEBSQL._driver,le.LOCALSTORAGE._driver],ue=["dropInstance"],he=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),de={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function pe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(oe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ge=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),le)if(le.hasOwnProperty(n)){var r=le[n],i=r._driver;this[n]=i,ae[i]||this.defineDriver(r)}this._defaultConfig=pe({},de),this._config=pe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=he.concat("_initStorage"),l=0,c=o.length;l<c;l++){var u=o[l];if((!ie(ue,u)||e[u])&&"function"!=typeof e[u])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=ue.length;n<r;n++){var i=ue[n];e[i]||(e[i]=t(i))}}();var h=function(n){ae[r]&&console.info("Redefining LocalForage driver: "+r),ae[r]=e,se[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(e){n(e)}}));return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ae[e]?a.resolve(ae[e]):a.reject(new Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(Y);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;oe(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var l=new Error("No available storage method found.");return r._driverSet=a.reject(l),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!se[e]},e.prototype._extend=function(e){pe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=he.length;e<t;e++)fe(this,he[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ve=new ge;t.exports=ve},{3:3}]},{},[4])(4)},183:(e,t,n)=>{n.g,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"EventEmitter",(function(){return l}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=function(e){return e instanceof Array?e:String(e).replace(/\s+/g,"").split(",")},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";i()(this,e),this.name=t,this.events={}}return a()(e,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof t)throw new TypeError("Invalid callback");return s(e).forEach((function(e){n.events[e]||(n.events[e]=[]),n.events[e].push({callback:t,options:r})})),this}},{key:"once",value:function(e,t){return this.on(e,t,{once:!0})}},{key:"off",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(e).filter((function(e){return!!t.events[e]})).forEach((function(e){if(n)for(var i=t.events[e].length;i--;){var o=t.events[e][i];(!o.options.persist||r)&&o.callback===n&&t.events[e].splice(i,1)}else t.events[e]=r?[]:t.events[e].filter((function(e){return!0===e.options.persist}))})),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s(e).forEach((function(e){if(t.events[e])for(var n=t.events[e].length;n--;){var i=t.events[e][n],o=i.options,a=i.callback;try{a.apply(void 0,r)}catch(e){console.warn(e)}o&&o.once&&t.events[e].splice(n,1)}})),this}}]),e}()}])},198:(e,t,n)=>{n.g,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"EventEmitter",(function(){return l}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=function(e){return e instanceof Array?e:String(e).replace(/\s+/g,"").split(",")},l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";i()(this,e),this.name=t,this.events={}}return a()(e,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof t)throw new TypeError("Invalid callback");return s(e).forEach((function(e){n.events[e]||(n.events[e]=[]),n.events[e].push({callback:t,options:r})})),this}},{key:"once",value:function(e,t){return this.on(e,t,{once:!0})}},{key:"off",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s(e).filter((function(e){return!!t.events[e]})).forEach((function(e){if(n)for(var i=t.events[e].length;i--;){var o=t.events[e][i];(!o.options.persist||r)&&o.callback===n&&t.events[e].splice(i,1)}else t.events[e]=r?[]:t.events[e].filter((function(e){return!0===e.options.persist}))})),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return s(e).forEach((function(e){if(t.events[e])for(var n=t.events[e].length;n--;){var i=t.events[e][n],o=i.options,a=i.callback;try{a.apply(void 0,r)}catch(e){console.warn(e)}o&&o.once&&t.events[e].splice(n,1)}})),this}}]),e}()}])},272:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(c,a))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t,n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(i);++a<n;)t=e[a],this.resolve(t).then((function(e){r||(r=!0,o.resolve(s,e))}),(function(e){r||(r=!0,o.reject(s,e))}));return s}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",d=void 0,f={},p=Object.prototype.toString,g="readonly",v="readwrite";function _(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function m(e){return"boolean"==typeof d?a.resolve(d):function(e){return new a((function(t){var n=e.transaction(h,v),r=o([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return d=e}))}function b(e){var t=f[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function y(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function w(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function k(e,t){return new a((function(n,r){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),y(e)}}))}function x(e){return k(e,!1)}function E(e){return k(e,!0)}function S(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function A(e){return o([_(atob(e.data))],{type:e.type})}function I(e){return e&&e.__local_forage_encoded_blob}function R(e){var t=this,n=t._initReady().then((function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function C(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),E(e)})).then((function(){return function(e){b(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,x(e).then((function(t){return e.db=t,S(e)?E(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw w(e,t),t}))}(e).then((function(){C(e,t,n,r-1)}))})).catch(n);n(i)}}var N={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=f[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},f[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=R);var o=[];function s(){return a.resolve()}for(var l=0;l<i.forages.length;l++){var c=i.forages[l];c!==t&&o.push(c._initReady().catch(s))}var u=i.forages.slice(0);return a.all(o).then((function(){return n.db=i.db,x(n)})).then((function(e){return n.db=e,S(n,t._defaultConfig.version)?E(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){C(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;I(r)&&(r=A(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){C(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),I(e)&&(e=A(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=new a((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?m(o.db).then((function(e){return e?t:(n=t,new a((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){C(r._dbInfo,v,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){C(n._dbInfo,v,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){C(t._dbInfo,v,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){C(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){C(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,l=a.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){C(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;if(e.name){var l=e.name===n.name&&o._dbInfo.db?a.resolve(o._dbInfo.db):x(e).then((function(t){var n=f[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));r=e.storeName?l.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=f[e.name],o=r.forages;t.close();for(var s=0;s<o.length;s++){var l=o[s];l._dbInfo.db=null,l._dbInfo.version=n}var c=new a((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,y(n._dbInfo)}})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}})):l.then((function(t){b(e);var n=f[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var s=new a((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++)y(r[t]._dbInfo)})).catch((function(t){throw(w(e,t)||a.resolve()).catch((function(){})),t}))}))}else r=a.reject("Invalid arguments");return s(r,t),r}},T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,z="__lfsc__:",B=z.length,O="arbf",M="blob",U="si08",j="ui08",D="uic8",F="si16",P="si32",Z="ur16",H="ui32",W="fl32",$="fl64",V=B+O.length,q=Object.prototype.toString;function K(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=T.indexOf(e[t]),r=T.indexOf(e[t+1]),i=T.indexOf(e[t+2]),o=T.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}function G(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=T[n[t]>>2],r+=T[(3&n[t])<<4|n[t+1]>>4],r+=T[(15&n[t+1])<<2|n[t+2]>>6],r+=T[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Y={serialize:function(e,t){var n="";if(e&&(n=q.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===q.call(e.buffer))){var r,i=z;e instanceof ArrayBuffer?(r=e,i+=O):(r=e.buffer,"[object Int8Array]"===n?i+=U:"[object Uint8Array]"===n?i+=j:"[object Uint8ClampedArray]"===n?i+=D:"[object Int16Array]"===n?i+=F:"[object Uint16Array]"===n?i+=Z:"[object Int32Array]"===n?i+=P:"[object Uint32Array]"===n?i+=H:"[object Float32Array]"===n?i+=W:"[object Float64Array]"===n?i+=$:t(new Error("Failed to get type for BinaryArray"))),t(i+G(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+G(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,B)!==z)return JSON.parse(e);var t,n=e.substring(V),r=e.substring(B,V);if(r===M&&L.test(n)){var i=n.match(L);t=i[1],n=n.substring(i[0].length)}var a=K(n);switch(r){case O:return a;case M:return o([a],{type:t});case U:return new Int8Array(a);case j:return new Uint8Array(a);case D:return new Uint8ClampedArray(a);case F:return new Int16Array(a);case Z:return new Uint16Array(a);case P:return new Int32Array(a);case H:return new Uint32Array(a);case W:return new Float32Array(a);case $:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:K,bufferToString:G};function J(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function X(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):J(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function Q(e,t,n,r){var i=this;e=c(e);var o=new a((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,l=i._dbInfo;l.serializer.serialize(t,(function(t,c){c?a(c):l.db.transaction((function(n){X(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Q.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return s(o,n),o}function ee(e){return new a((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var te={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new a((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){J(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Y,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return Q.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){X(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){X(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new a((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(ee(r))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){function i(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,l=e.storeNames.length;s<l;s++)o.push(i(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),r}};function ne(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var re={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=ne(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=Y,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new a((function(t){e.storeName?t(ne(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),s(r,t),r}},ie=function(e,t){for(var n=e.length,r=0;r<n;){if((i=e[r])===(o=t)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ae={},se={},le={INDEXEDDB:N,WEBSQL:te,LOCALSTORAGE:re},ce=[le.INDEXEDDB._driver,le.WEBSQL._driver,le.LOCALSTORAGE._driver],ue=["dropInstance"],he=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),de={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function pe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(oe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ge=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),le)if(le.hasOwnProperty(n)){var r=le[n],i=r._driver;this[n]=i,ae[i]||this.defineDriver(r)}this._defaultConfig=pe({},de),this._config=pe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=he.concat("_initStorage"),l=0,c=o.length;l<c;l++){var u=o[l];if((!ie(ue,u)||e[u])&&"function"!=typeof e[u])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=ue.length;n<r;n++){var i=ue[n];e[i]||(e[i]=t(i))}}();var h=function(n){ae[r]&&console.info("Redefining LocalForage driver: "+r),ae[r]=e,se[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(e){n(e)}}));return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ae[e]?a.resolve(ae[e]):a.reject(new Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(Y);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;oe(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=c.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var l=new Error("No available storage method found.");return r._driverSet=a.reject(l),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!se[e]},e.prototype._extend=function(e){pe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=he.length;e<t;e++)fe(this,he[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ve=new ge;t.exports=ve},{3:3}]},{},[4])(4)},883:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,":host{\n    all:initial;\n}\n.container {\n    position: relative;\n    font-family: sans-serif;\n    font-size: 14px;\n    resize: both;\n    border-radius: 5px;  \n    min-height:400px;\n    width:100%;\n    display: flex;\n    flex-direction: column;\n}\n\n\n.dir {\n    list-style-type: none;\n}\n\n.item {\n    position: relative;\n    display: inline-block;\n    width: 6em;\n    height: 9em;\n    overflow: visible;\n    vertical-align:middle;\n    z-index: 1;\n}\n.item .thumbnail {\n    width: 4em; \n    height: 4em; \n    margin-left: 1em;\n    margin-right: 1em;\n    padding-top: 1em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    vertical-align:middle;\n    text-align: center;\n    word-wrap:break-word; \n }\n.item .unselected {\n    color: grey; \n    background-color: #EEE;\n}\n.item .selected {\n    background-color: lightgreen;\n    color: white;\n}\n\n.item .filename {\n    text-align: center;\n    word-wrap:break-word; \n    padding: 2px;\n}\n\n.content {\n    position: absolute;\n    top: 30px;\n    left: 0px;\n    background-color: #F7F7F7;\n    width: 100%;\n    height: calc(100% - 30px);\n    border-radius: 0px 0px 5px 0px;\n}\n.menubar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    padding: 2px 2px 0px 2px;\n    height: 28px;\n    background-color: #333;\n    color: #FFFFFF;\n    width: calc(100% - 5px);\n    border-radius: 5px 5px 0px 0px;\n}\n\n.footer {\n    position: absolute;\n    left: 0px;\n    background-color: #333;\n    color: # FFFFFF;\n    height: 30px;\n    border-radius: 0px 0px 5px 0px;\n}\n.content-menu {\n    padding: 3px;\n    background-color:white;\n    min-height: 27px;\n}\n\n.content-menu input {\n    margin-left: 2px;\n}\n\n",""]);const o=i},135:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,':host {\n    all: initial;\n}\n\n.container {\n    position: relative;\n    font-family: sans-serif;\n    font-size: 14px;\n    resize: both;\n    border-radius: 5px;  \n    min-height:400px;\n    width:100%;\n    display: flex;\n    flex-direction: column;\n}\n\n.sidebar {\n    margin: 0;\n    padding: 0;\n    width: 200px;\n    background-color: #f1f1f1;\n    position: absolute;\n    overflow: auto;\n    top: 30px;\n    left: 0px;\n    border-radius: 0px 0px 0px 5px;\n    height: calc(100% - 30px);\n}\n\n.sidebar a {\n    display: block;\n    color: black;\n    padding: 16px;\n    text-decoration: none;\n}\n\n.sidebar a.active {\n    background-color: #4CAF58;\n    color: white;\n}\n\n.sidebar a:hover:not(.active) {\n    background-color: #555;\n    color: white;\n}\n.sidebar-menu,.content-menu {\n    padding: 3px;\n}\n.content-menu input {\n    margin-left: 2px;\n}\n.sidebar-menu input {\n    margin-left: 2px;\n}\n\n.content {\n    position: absolute;\n    top: 30px;\n    left: 200px;\n    background-color: #F7F7F7;\n    width: calc(100% - 200px);\n    height: calc(100% - 30px);\n    border-radius: 0px 0px 5px 0px;\n}\n.menubar {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    padding: 2px 2px 0px 2px;\n    height: 28px;\n    background-color: #333;\n    color: #FFFFFF;\n    width: calc(100% - 5px);\n    border-radius: 5px 5px 0px 0px;\n}\n\n.footer {\n    position: absolute;\n    left: 0px;\n    background-color: #333;\n    color: # FFFFFF;\n    height: 30px;\n    border-radius: 0px 0px 5px 0px;\n}\n\n.bottom {\n    position: absolute;\n    bottom: 0px;\n}\n\n.btn {\n    cursor: default;\n    text-align: center;\n}\n\n.btn: hover {\n    background-color: #006F6F;\n    color: white;\n}\n\n.dir {\n    list-style-type: none;\n}\n\n.item {\n    position: relative;\n    display: inline-block;\n    width: 6em;\n    height: 9em;\n    overflow: visible;\n    vertical-align:middle;\n    z-index: 1;\n}\n\n.item .thumbnail {\n    width: 4em; \n    height: 4em; \n    margin-left: 1em;\n    margin-right: 1em;\n    padding-top: 1em;\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n    vertical-align:middle;\n    text-align: center;\n    word-wrap:break-word; \n    color: grey; \n    background-color: #EEE;\n}\n\n.item .filename {\n    text-align: center;\n    word-wrap:break-word; \n    padding: 2px;\n}\n\n.sidebar-ul {\n    list-style-type: none;\n}\n\n.drive:hover {\n    background-color: #006F6F;\n    color: white;\n}\n\n.pwd-btn {\n    background-color: #006F6F; \n    color: white;\n    text-align: center;\n}\n\n\n.tooltip {\n  width: 150px;\n  border-radius: 3px;\n  box-shadow: 0 0 2px rgba(0,0,0,0.5);\n  padding: 10px;\n  text-align: center;\n  background: #777;\n  color: #FFFFFF;\n}\n.tooltip::after {\n    position: absolute;\n    content: "";\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 5px;\n    border-color: transparent;\n}\n\n.tooltip[data-popper-placement=bottom] {\n    margin-top: 5px;\n    font-size: x-small;\n}\n.tooltip[data-popper-placement=bottom]::after {\n    border-top-width: 0;\n    border-bottom-color: #777;\n    top: -5px;\n    left: calc(50% -5px);\n}\n',""]);const o=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";var e;n.r(r),n.d(r,{Basic:()=>yi,Bridge:()=>A,BridgeNode:()=>m,BroadcastNode:()=>_,DataAdaptor:()=>kr,DataAgent:()=>xr,FileStore:()=>br,GenericContainer:()=>Yr,GenericLayout:()=>jr,GenericPackage:()=>Jr,MemoryStore:()=>Rr,Node:()=>p,Packages:()=>Br,Parsers:()=>or,RVar:()=>Si,ReflexElement:()=>C,RegisterMap:()=>Nr,Responder:()=>f,Services:()=>Xr,StateBridge:()=>I,StateNode:()=>g,SwBar:()=>oa,UIBridge:()=>Ko,UIDataAgent:()=>di,UIDropBox:()=>Oi,UIFileStore:()=>Ni,UIModal:()=>Yi,UISimpleRender:()=>Ki,UIStateBridge:()=>Vo,UIStateBridgeIO:()=>Xi,UIURIDropBox:()=>Fi,WorkerHub:()=>w,customElementsDefine:()=>Qr,dispatch:()=>ra,fetchBlob:()=>Pn,g:()=>Ei,g2:()=>ki,getNode:()=>Cr,h:()=>xi,h2:()=>wi,safeClose:()=>Dr,services:()=>aa});var t=new Uint8Array(16);function i(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&o.test(e)};for(var s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));const c=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var u=n(183);class h extends u.EventEmitter{constructor(){super(),this._uuid=c()}onMessage(e,t){}set uuid(e){this._uuid=e}get uuid(){return this._uuid}}const f=h,p=class extends f{constructor(){super(),this.outputs={},this.inputs={},this._onMessage=this._onMessage_,this._process=function(e){return e},this._effect=!1,this.history=Array(10).fill(""),this.hi=0,this.postMessage=function(){},this.onMessage=function(){}}set name(e){this._name=e}get name(){return this._name||this.uuid}set process(e){this._process=e}get process(){return this._process}set effect(e){this._effect=e}get effect(){return this._effect}set onMessage(e){var t=this;this._onMessage=function(n,r){var i=t._onMessage_(n,r);return i&&("_onMessageEffect_"in t&&t.effect&&t._onMessageEffect_(n,r),e(n,r)),i}}get onMessage(){return this._onMessage}set postMessage(e){var t=this;this._postMessage=function(n){if("string"==typeof n){var r={};r.text=n,n=r}"_uuid_"in n||(n._uuid_=c()),t._postMessage_(n),"_postMessageEffect_"in t&&t.effect&&t._postMessageEffect_(n),e(n)}}get postMessage(){return this._postMessage}_onMessage_(e,t){var n=this;if(t=t||e._from_,void 0===e)return!1;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}if(!("_uuid_"in e))return console.log("Warning: without _uuid_",n.name),!1;for(var r=0;r<10;r++)if(e._uuid_===n.history[r])return console.log("a.uuid equal history",e._uuid_),!1;if("string"==typeof t){var i={};i[t]=1,t=i}var o=n.uuid,a=JSON.parse(JSON.stringify(t)),s=0;Object.keys(a).forEach((e=>{s<a[e]&&(s=a[e])})),a[o]=s+1,this.history[this.hi]=e._uuid_;var l=n.process(e);return Object.keys(this.outputs).forEach((function(e){e in t||n.outputs[e].onMessage(l,a)})),!0}_postMessage_(e){var t=this;this.history[this.hi]=e._uuid_,this.hi=(this.hi+1)%10;var n={};n[t.uuid]=1,Object.keys(this.outputs).forEach((function(r){t.outputs[r].onMessage(e,n)}))}register(e,t){var n=t||e.uuid;this.outputs[n]=e,e.inputs[this.uuid]=this}linkto(e,t){this.register(e,t)}deregister(e){var t;null!=e&&("string"==typeof e?t=e:"string"==typeof e.uuid&&(t=e.uuid),delete this.outputs[t].inputs[this.uuid],delete this.outputs[t])}unlink(e){this.deregister(e)}size(){return Object.keys(this.outputs).length}inputSize(){return Object.keys(this.inputs).length}close(){var e=this;Object.keys(this.outputs).forEach((t=>{e.deregister(t)})),Object.keys(this.inputs).forEach((t=>{e.inputs[t].deregister(e.uuid)})),this.emit("close")}static get is(){return"node"}},g=class extends p{constructor(e={}){super(),this.data={},this.listener={},this.state={},this.localDef=!0,this.setState(e),this.ready=!0}static get is(){return"state"}_onMessage_(e,t){var n,r=this,i=super._onMessage_(e,t);if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return i&&("code"in e&&"set"==e.code&&"data"in e&&("key"in(n=e.data)&&"value"in n?(r.ready=!1,r._update_(n.key,n.value)):console.warn("error set value",n)),"code"in e&&"delete"==e.code&&"data"in e&&("key"in(n=e.data)?(r.ready=!1,r._delete_(n.key)):console.warn("error delete",n.key))),i}setState(e){var t=this;Object.keys(this.data).forEach((n=>{n in e||t._delete_(n)})),t.extendState(e),t.emit("setState",e)}extendState(e){var t=this;Object.keys(e).forEach((n=>{t.define(n),t.set(n,e[n])}))}getState(){return this.state}_update_(e,t){var n;this.data&&e in this.data&&(n=this.data[e]),e in this.state||this.define(e),this.data[e]=t,this.listener&&e in this.listener&&this.listener[e](t,n),t!==n&&this.emit("change",{key:e,old:n,new:t})}set(e,t){this.state[e]=t}get(e){return this.state[e]}onChange(e,t){this.listener[e]=t}define(e,t){var n=this;return e in n.state?0:(Object.defineProperty(this.state,e,{configurable:!0,get:function(){return n.data[e]},set:function(t){n._update_(e,t),n.postMessage({code:"set",data:{key:e,value:t}}),n.ready=!0}}),n.data[e]=n.data[e]||void 0,void 0!==t&&(n.listener[e]=t),!0)}_delete_(e){var t=this.data[e];if(e in this.state){delete this.state[e];var n=this.data[e];delete this.data[e],e in this.listener&&(this.listener[e](void 0,n),delete this.listener[e])}this.emit("change",{key:e,old:t,new:void 0})}delete(e){this._delete_(e),this.postMessage({code:"delete",data:{key:e}}),this.ready=!0}close(){super.close(),this.listener=null,this.data=null,this.state=null}},v=class extends g{constructor(e,t){super(t),this.storageId=e,this.fetchStorage()}saveToStorage(){localStorage.setItem(this.storageId,JSON.stringify(this.data))}fetchStorage(){var e=localStorage.getItem(this.storageId),t=!1;try{if(e&&void 0!==e){var n=JSON.parse(e);this.setState(n),t=!0}}catch(e){console.warn(e)}return t}static get is(){return"storage"}},_=class extends v{constructor(e,t,n){var r;super(r=0==e.length?t:e+"/"+t,n),this.namespace=e,this.chan=new BroadcastChannel(r),console.log("connect to broadcast channel",r),this.chanId=t,this.fetchStorage(),this._name=t;var i=r+"-"+c(),o=this;this.chanUuid=i,this.chan.onmessage=function(e){var t=e.data,n={};n[i]=1,o.onMessage(t,n)}}_postMessage_(e){super._postMessage_(e),this.chan&&this.chan.postMessage(e)}_onMessage_(e,t){var n=super._onMessage_(e,t);if(n){if("string"==typeof t){var r={};r[t]=1,t=r}this.chanUuid in t||this.chan.postMessage(e)}return n}close(){console.log("broadcast channel close",this.namespace,this.chanId),this.chan.close(),super.close()}static get is(){return"broadcast"}},m=class extends g{async connect(){var e=this,t=e.chanId,n=e.bridgeUuid,r=e.extId;return new Promise(((i,o)=>{try{window.chrome.runtime.sendMessage(r,{message:"version"},(o=>{var a;o&&o.version?(o.version,(a=window.chrome.runtime.connect(r)).postMessage({chanId:t}),a.onDisconnect.addListener((function(e){console.log("disconnect to extension ",r)})),e.onMessage=function(e,t){if("string"==typeof t){var r={};r[t]=1,t=r}n in t||a.postMessage(e)},e.port=a,e.ready=!0,e.on("close",(e=>{a.disconnect()})),a.onMessage.addListener((function(t){"_code_"in t?("state"==t._code_&&e.setState(t.data),i(a)):(t._from_=n,e.postMessage(t))})),a.postMessage({_code_:"getState"})):(e.ready=!1,i("not connect"))}))}catch(t){e.ready=!1,i("not connect")}}))}constructor(e,t,n,r){super(r);var i=this;e.length>0?i.chanId=e+"-"+t||"reflex-bridge-01":i.chanId=t||"reflex-bridge-01",i.extId=n||"fdkkfkobdhkphjaafbiaekmkfeenajfk",i.bridgeUuid=i.chanId+"-"+c()}static get is(){return"bridge"}},b=class extends _{constructor(e,t,n){super(e,t),this.worker=n,"error"!==this.worker.status&&(this.worker.worker.port.onmessage=e=>{var n=e.data;"getStateResult"==n.code&&(n.data&&Object.keys(n.data).length>0?this.setState(n.data):Object.keys(this.data).length>0&&this.worker.worker.port.postMessage({code:"setState",channel:t,data:this.data}))},this.worker.worker.port.postMessage({code:"getState",channel:t}))}_onMessage_(e,t){var n,r=super._onMessage_(e,t);return"error"!==this.worker.status&&r&&!(this.chanUuid in t)&&("code"in e&&"set"==e.code&&"data"in e&&"key"in(n=e.data)&&"value"in n&&this.worker.worker.port.postMessage({code:"set",channel:this.chanId,key:n.key,value:n.value}),"code"in e&&"delete"==e.code&&"data"in e&&"key"in(n=e.data)&&this.worker.worker.port.postMessage({code:"delete",channel:this.chanId,key:n.key})),r}static get is(){return"worker"}close(){super.close(),"error"!==this.worker.status&&this.worker.worker.port.postMessage({code:"close",channel:this.chanId})}};class y extends u.EventEmitter{constructor(e="reflexiv",t="./bridge-worker.js"){if(super(e),this.namespace=e,this.status="inited",this.WorkerURL=t,window.SharedWorker)try{var n=new SharedWorker(this.WorkerURL,this.namespace);n.onerror=e=>{console.log("error",e),this.status="error",this.emit("error")},this.worker=n}catch(e){}}}const w=y,k=async(e,t,n,r,i,o,a,s)=>(t in e||(e[t]=i(),"connect"in e[t]&&(await e[t].connect(),0==e[t].ready&&(e[t].close(),delete e[t],console.log("not connect bridge"),console.log("downgrade to worker broadcast node"),e[t]=new b(s,o,a))),e[t].name=o),n?r.uuid in e[t].outputs||e[t].register(r):r.uuid in e[t].inputs||r.register(e[t]),e[t]),x=(e,t,n,r)=>{n?e[t].deregister(r):r.deregister(e[t]);var i=e[t].size()+e[t].inputSize();return 0==e[t].size()&&0==e[t].inputSize()&&(e[t].close(),console.log("close channel",t),delete e[t]),i},E=e=>{Object.keys(e).forEach((t=>{e[t].close()}))},S=(e,t)=>{var n,r,i=!0;return"string"==typeof e?(n=e,r=t):"string"==typeof t&&(n=t,r=e,i=!1),{n,node:r,forward:i}},A=class extends Object{constructor(e,t={}){super(),this.A={},this.B={},this.C={},this._ns=e||"reflexiv",this.extId=t.extId||"nkmanppanbngccejhelchmlnjgldmajb",this.worker=new w(this.namespace,t.WorkerURL)}set namespace(e){this._ns=e}get namespace(){return this._ns}generateChanId(e){return this.namespace+"/"+e}async link(e,t){var n,r=this,i=S(e,t),o=i.n,a=i.node,s=i.forward,l=o.split("-"),c=o,u=this.extId;return 2==l.length?("a"==l[0]&&(n=await k(this.A,o,s,a,(()=>new g),c)),"b"==l[0]&&(n=await k(this.B,o,s,a,(()=>new b(r.namespace,c,r.worker)),c)),"c"==l[0]&&(n=await k(this.C,o,s,a,(()=>new m(r.namespace,c,u)),c,r.worker,r.namespace)),"N"==l[0]&&(c=l[1],n=await k(this.C,l[1],s,a,(()=>new m("",l[1],u)),l[1],r.worker))):n=await k(this.A,o,s,a,(()=>new p),c),n}unlink(e,t){var n=S(e,t),r=n.n,i=n.node,o=n.forward;if(void 0===r)return!1;var a,s=r.split("-");return 2==s.length?("a"==s[0]&&(a=x(this.A,r,o,i)),"b"==s[0]&&(a=x(this.B,r,o,i)),"c"==s[0]&&(a=x(this.C,r,o,i)),"N"==s[0]&&(a=x(this.C,s[1],o,i))):a=x(this.A,r,o,i),a}getNode(e){var t,n=e.split("-");return 2==n.length?("a"==n[0]&&(t=this.A[e]||void 0),"b"==n[0]&&(t=this.B[e]||void 0),"c"==n[0]&&(t=this.C[e]||void 0),"N"==n[0]&&(t=this.C[n[1]]||void 0)):t=this.A[e]||void 0,t}close(){E(this.A),E(this.B),E(this.C)}},I=class extends A{constructor(e="reflexiv",t={}){super(e,t),this.worker=new w(this.namespace,t.WorkerURL)}async link(e,t){var n=await super.link(e,t),r=S(e,t),i=(r.n,r.node),o=r.forward;return console.log("chan is ",n.constructor.is||"not defined"),console.log("node is ",i.constructor.is||"not defined"),o&&"state"in i&&"node"!==n.constructor.is&&(i.localDef?Object.keys(i.data).forEach((e=>{var t,r=i.data[e];e in n.data&&(t=n.data[e]),i.data[e]=t,e in i.listener&&i.listener[e](t,r)})):(console.log("set node state",n,n.data),i.setState(n.data))),n}};class R extends HTMLElement{constructor(){super();var e=new g;this._node_=e,this.linkto=e.linkto.bind(e),this.register=e.register.bind(e),this.unlink=e.unlink.bind(e),this.deregister=e.deregister.bind(e),this._onMessage_=e._onMessage_.bind(e),this._postMessage_=e._postMessage_.bind(e),this.process=e.process.bind(e),this.effect=e.effect,this.name=e.name,this.inputs=e.inputs,this.outputs=e.outputs,this.history=e.history,this.hi=e.hi,this.setState=e.setState.bind(e),this.getState=e.getState.bind(e),this.extendState=e.extendState.bind(e),this.define=e.define.bind(e),this.set=e.set.bind(e),this.get=e.get.bind(e),this.delete=e.delete.bind(e),this.onChange=e.onChange.bind(e),this.data=e.data,this.listener=e.listener,this.state=e.state,this.uuid=e.uuid,this.ready=!0,this.on=e.on.bind(e),this.off=e.off.bind(e),this.emit=e.emit.bind(e),this.once=e.once.bind(e),this.postMessage=function(){},this.onMessage=function(){}}set onMessage(e){var t=this;this._onMessage=function(n,r){var i=t._onMessage_(n,r);return i&&("_onMessageEffect_"in t&&t.effect&&t._onMessageEffect_(n,r),e(n,r)),i}}get onMessage(){return this._onMessage}set postMessage(e){var t=this;this._postMessage=function(n){if("string"==typeof n){var r={};r.text=n,n=r}"_uuid_"in n||(n._uuid_=uuidv4()),t._postMessage_(n),"_postMessageEffect_"in t&&t.effect&&t._postMessageEffect_(n),e(n)}}get postMessage(){return this._postMessage}close(){super.close&&"function"==typeof super.close&&super.close(),this._node_.close()}}const C=R;var N=n(198);const T=e=>{if(Array.isArray(e))return e.map((e=>T(e)));if("object"==typeof e){var t={};for(var n in e)t[n]=T(e[n]);return t}return"string"==typeof e?0==e.length?e:isNaN(e)?"true"==e.toLowerCase()||"false"!=e.toLowerCase()&&e:-1!==e.indexOf(".")?parseFloat(e):parseInt(e):e},L=T;function z(e){let t=e.length;for(;--t>=0;)e[t]=0}const B=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),O=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j=new Array(576);z(j);const D=new Array(60);z(D);const F=new Array(512);z(F);const P=new Array(256);z(P);const Z=new Array(29);z(Z);const H=new Array(30);function W(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let $,V,q;function K(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}z(H);const G=e=>e<256?F[e]:F[256+(e>>>7)],Y=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},J=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},X=(e,t,n)=>{J(e,n[2*t],n[2*t+1])},Q=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},ee=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=Q(r[t]++,t))}},te=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},ne=e=>{e.bi_valid>8?Y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},re=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},ie=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&re(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!re(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},oe=(e,t,n)=>{let r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?X(e,i,t):(o=P[i],X(e,o+256+1,t),a=B[o],0!==a&&(i-=Z[o],J(e,i,a)),r--,o=G(r),X(e,o,n),a=O[o],0!==a&&(r-=H[o],J(e,r,a)))}while(s<e.last_lit);X(e,256,t)},ae=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)ie(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ie(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,ie(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,h,d,f,p,g=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],d=n[2*n[2*u+1]+1]+1,d>l&&(d=l,g++),n[2*u+1]=d,u>r||(e.bl_count[d]++,f=0,u>=s&&(f=a[u-s]),p=n[2*u],e.opt_len+=p*(d+f),o&&(e.static_len+=p*(i[2*u+1]+f)));if(0!==g){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(d=l;0!==d;d--)for(u=e.bl_count[d];0!==u;)h=e.heap[--c],h>r||(n[2*h+1]!==d&&(e.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),u--)}})(e,t),ee(n,c,e.bl_count)},se=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},le=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{X(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(X(e,i,e.bl_tree),s--),X(e,16,e.bl_tree),J(e,s-3,2)):s<=10?(X(e,17,e.bl_tree),J(e,s-3,3)):(X(e,18,e.bl_tree),J(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let ce=!1;const ue=(e,t,n,r)=>{J(e,0+(r?1:0),3),((e,t,n,r)=>{ne(e),Y(e,n),Y(e,~n),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n)};var he={_tr_init:e=>{ce||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(Z[r]=n,e=0;e<1<<B[r];e++)P[n++]=r;for(P[n-1]=r,i=0,r=0;r<16;r++)for(H[r]=i,e=0;e<1<<O[r];e++)F[i++]=r;for(i>>=7;r<30;r++)for(H[r]=i<<7,e=0;e<1<<O[r]-7;e++)F[256+i++]=r;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)j[2*e+1]=8,e++,o[8]++;for(;e<=255;)j[2*e+1]=9,e++,o[9]++;for(;e<=279;)j[2*e+1]=7,e++,o[7]++;for(;e<=287;)j[2*e+1]=8,e++,o[8]++;for(ee(j,287,o),e=0;e<30;e++)D[2*e+1]=5,D[2*e]=Q(e,5);$=new W(j,B,257,286,15),V=new W(D,O,0,30,15),q=new W(new Array(0),M,0,19,7)})(),ce=!0),e.l_desc=new K(e.dyn_ltree,$),e.d_desc=new K(e.dyn_dtree,V),e.bl_desc=new K(e.bl_tree,q),e.bi_buf=0,e.bi_valid=0,te(e)},_tr_stored_block:ue,_tr_flush_block:(e,t,n,r)=>{let i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),ae(e,e.l_desc),ae(e,e.d_desc),a=(e=>{let t;for(se(e,e.dyn_ltree,e.l_desc.max_code),se(e,e.dyn_dtree,e.d_desc.max_code),ae(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*U[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?ue(e,t,n,r):4===e.strategy||o===i?(J(e,2+(r?1:0),3),oe(e,j,D)):(J(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(J(e,t-257,5),J(e,n-1,5),J(e,r-4,4),i=0;i<r;i++)J(e,e.bl_tree[2*U[i]+1],3);le(e,e.dyn_ltree,t-1),le(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),oe(e,e.dyn_ltree,e.dyn_dtree)),te(e),r&&ne(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+256+1)]++,e.dyn_dtree[2*G(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{J(e,2,3),X(e,256,j),(e=>{16===e.bi_valid?(Y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},de=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};const fe=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var pe=(e,t,n,r)=>{const i=fe,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},ge={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ve={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:_e,_tr_stored_block:me,_tr_flush_block:be,_tr_tally:ye,_tr_align:we}=he,{Z_NO_FLUSH:ke,Z_PARTIAL_FLUSH:xe,Z_FULL_FLUSH:Ee,Z_FINISH:Se,Z_BLOCK:Ae,Z_OK:Ie,Z_STREAM_END:Re,Z_STREAM_ERROR:Ce,Z_DATA_ERROR:Ne,Z_BUF_ERROR:Te,Z_DEFAULT_COMPRESSION:Le,Z_FILTERED:ze,Z_HUFFMAN_ONLY:Be,Z_RLE:Oe,Z_FIXED:Me,Z_DEFAULT_STRATEGY:Ue,Z_UNKNOWN:je,Z_DEFLATED:De}=ve,Fe=258,Pe=262,Ze=103,He=113,We=666,$e=(e,t)=>(e.msg=ge[t],t),Ve=e=>(e<<1)-(e>4?9:0),qe=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Ke=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ge=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ye=(e,t)=>{be(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ge(e.strm)},Je=(e,t)=>{e.pending_buf[e.pending++]=t},Xe=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Qe=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=de(e.adler,t,i,n):2===e.state.wrap&&(e.adler=pe(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},et=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-Pe?e.strstart-(e.w_size-Pe):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+Fe;let f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=Fe-(d-o),o=d-Fe,r>a){if(e.match_start=t,a=r,r>=s)break;f=c[o+a-1],p=c[o+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},tt=e=>{const t=e.w_size;let n,r,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Pe)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=Qe(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ke(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ke(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Pe&&0!==e.strm.avail_in)},nt=(e,t)=>{let n,r;for(;;){if(e.lookahead<Pe){if(tt(e),e.lookahead<Pe&&t===ke)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Pe&&(e.match_length=et(e,n)),e.match_length>=3)if(r=ye(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ke(e,e.ins_h,e.window[e.strstart+1]);else r=ye(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Se?(Ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ye(e,!1),0===e.strm.avail_out)?1:2},rt=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Pe){if(tt(e),e.lookahead<Pe&&t===ke)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Pe&&(e.match_length=et(e,n),e.match_length<=5&&(e.strategy===ze||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=ye(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ye(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=ye(e,0,e.window[e.strstart-1]),r&&Ye(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=ye(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Se?(Ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ye(e,!1),0===e.strm.avail_out)?1:2};function it(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const ot=[new it(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(tt(e),0===e.lookahead&&t===ke)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ye(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Pe&&(Ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Se?(Ye(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ye(e,!1),e.strm.avail_out),1)})),new it(4,4,8,4,nt),new it(4,5,16,8,nt),new it(4,6,32,32,nt),new it(4,4,16,16,rt),new it(8,16,32,32,rt),new it(8,16,128,128,rt),new it(8,32,128,256,rt),new it(32,128,258,1024,rt),new it(32,258,258,4096,rt)];function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=De,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),qe(this.dyn_ltree),qe(this.dyn_dtree),qe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),qe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),qe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const st=e=>{const t=(e=>{if(!e||!e.state)return $e(e,Ce);e.total_in=e.total_out=0,e.data_type=je;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:He,e.adler=2===t.wrap?0:1,t.last_flush=ke,_e(t),Ie})(e);var n;return t===Ie&&((n=e.state).window_size=2*n.w_size,qe(n.head),n.max_lazy_match=ot[n.level].max_lazy,n.good_match=ot[n.level].good_length,n.nice_match=ot[n.level].nice_length,n.max_chain_length=ot[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t};var lt=(e,t,n,r,i,o)=>{if(!e)return Ce;let a=1;if(t===Le&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==De||r<8||r>15||t<0||t>9||o<0||o>Me)return $e(e,Ce);8===r&&(r=9);const s=new at;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,st(e)},ct=(e,t)=>{let n,r;if(!e||!e.state||t>Ae||t<0)return e?$e(e,Ce):Ce;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===We&&t!==Se)return $e(e,0===e.avail_out?Te:Ce);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Je(i,31),Je(i,139),Je(i,8),i.gzhead?(Je(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Je(i,255&i.gzhead.time),Je(i,i.gzhead.time>>8&255),Je(i,i.gzhead.time>>16&255),Je(i,i.gzhead.time>>24&255),Je(i,9===i.level?2:i.strategy>=Be||i.level<2?4:0),Je(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Je(i,255&i.gzhead.extra.length),Je(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=pe(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Je(i,0),Je(i,0),Je(i,0),Je(i,0),Je(i,0),Je(i,9===i.level?2:i.strategy>=Be||i.level<2?4:0),Je(i,3),i.status=He);else{let t=De+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=Be||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=He,Xe(i,t),0!==i.strstart&&(Xe(i,e.adler>>>16),Xe(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=pe(e.adler,i.pending_buf,i.pending-n,n)),Ge(e),n=i.pending,i.pending!==i.pending_buf_size));)Je(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=pe(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=pe(e.adler,i.pending_buf,i.pending-n,n)),Ge(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Je(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=pe(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=pe(e.adler,i.pending_buf,i.pending-n,n)),Ge(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Je(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=pe(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=Ze)}else i.status=Ze;if(i.status===Ze&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ge(e),i.pending+2<=i.pending_buf_size&&(Je(i,255&e.adler),Je(i,e.adler>>8&255),e.adler=0,i.status=He)):i.status=He),0!==i.pending){if(Ge(e),0===e.avail_out)return i.last_flush=-1,Ie}else if(0===e.avail_in&&Ve(t)<=Ve(o)&&t!==Se)return $e(e,Te);if(i.status===We&&0!==e.avail_in)return $e(e,Te);if(0!==e.avail_in||0!==i.lookahead||t!==ke&&i.status!==We){let n=i.strategy===Be?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(tt(e),0===e.lookahead)){if(t===ke)return 1;break}if(e.match_length=0,n=ye(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Se?(Ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ye(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===Oe?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=Fe){if(tt(e),e.lookahead<=Fe&&t===ke)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+Fe;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=Fe-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ye(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ye(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ye(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Se?(Ye(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ye(e,!1),0===e.strm.avail_out)?1:2})(i,t):ot[i.level].func(i,t);if(3!==n&&4!==n||(i.status=We),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),Ie;if(2===n&&(t===xe?we(i):t!==Ae&&(me(i,0,0,!1),t===Ee&&(qe(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ge(e),0===e.avail_out))return i.last_flush=-1,Ie}return t!==Se?Ie:i.wrap<=0?Re:(2===i.wrap?(Je(i,255&e.adler),Je(i,e.adler>>8&255),Je(i,e.adler>>16&255),Je(i,e.adler>>24&255),Je(i,255&e.total_in),Je(i,e.total_in>>8&255),Je(i,e.total_in>>16&255),Je(i,e.total_in>>24&255)):(Xe(i,e.adler>>>16),Xe(i,65535&e.adler)),Ge(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Ie:Re)},ut=e=>{if(!e||!e.state)return Ce;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Ze&&t!==He&&t!==We?$e(e,Ce):(e.state=null,t===He?$e(e,Ne):Ie)};const ht=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var dt=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)ht(n,t)&&(e[t]=n[t])}}return e},ft=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let pt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){pt=!1}const gt=new Uint8Array(256);for(let e=0;e<256;e++)gt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;gt[254]=gt[254]=1;var vt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},_t=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let a=gt[t];if(a>4)o[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&pt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},mt=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+gt[e[n]]>t?n:t},bt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const yt=Object.prototype.toString,{Z_NO_FLUSH:wt,Z_SYNC_FLUSH:kt,Z_FULL_FLUSH:xt,Z_FINISH:Et,Z_OK:St,Z_STREAM_END:At,Z_DEFAULT_COMPRESSION:It,Z_DEFAULT_STRATEGY:Rt,Z_DEFLATED:Ct}=ve;function Nt(e){this.options=dt({level:It,method:Ct,chunkSize:16384,windowBits:15,memLevel:8,strategy:Rt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bt,this.strm.avail_out=0;let n=lt(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==St)throw new Error(ge[n]);if(t.header&&((e,t)=>{e&&e.state&&(2!==e.state.wrap||(e.state.gzhead=t))})(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?vt(t.dictionary):"[object ArrayBuffer]"===yt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=((e,t)=>{let n=t.length;if(!e||!e.state)return Ce;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return Ce;if(1===i&&(e.adler=de(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(qe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,tt(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Ke(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,tt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,Ie})(this.strm,e),n!==St)throw new Error(ge[n]);this._dict_set=!0}}function Tt(e,t){const n=new Nt(t);if(n.push(e,!0),n.err)throw n.msg||ge[n.err];return n.result}Nt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Et:wt,"string"==typeof e?n.input=vt(e):"[object ArrayBuffer]"===yt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===kt||o===xt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=ct(n,o),i===At)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ut(this.strm),this.onEnd(i),this.ended=!0,i===St;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Nt.prototype.onData=function(e){this.chunks.push(e)},Nt.prototype.onEnd=function(e){e===St&&(this.result=ft(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Lt={Deflate:Nt,deflate:Tt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Tt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Tt(e,t)},constants:ve},zt=function(e,t){let n,r,i,o,a,s,l,c,u,h,d,f,p,g,v,_,m,b,y,w,k,x,E,S;const A=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),i=e.next_out,S=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=A.dmax,l=A.wsize,c=A.whave,u=A.wnext,h=A.window,d=A.hold,f=A.bits,p=A.lencode,g=A.distcode,v=(1<<A.lenbits)-1,_=(1<<A.distbits)-1;e:do{f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),m=p[d&v];t:for(;;){if(b=m>>>24,d>>>=b,f-=b,b=m>>>16&255,0===b)S[i++]=65535&m;else{if(!(16&b)){if(0==(64&b)){m=p[(65535&m)+(d&(1<<b)-1)];continue t}if(32&b){A.mode=12;break e}e.msg="invalid literal/length code",A.mode=30;break e}y=65535&m,b&=15,b&&(f<b&&(d+=E[n++]<<f,f+=8),y+=d&(1<<b)-1,d>>>=b,f-=b),f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),m=g[d&_];n:for(;;){if(b=m>>>24,d>>>=b,f-=b,b=m>>>16&255,!(16&b)){if(0==(64&b)){m=g[(65535&m)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",A.mode=30;break e}if(w=65535&m,b&=15,f<b&&(d+=E[n++]<<f,f+=8,f<b&&(d+=E[n++]<<f,f+=8)),w+=d&(1<<b)-1,w>s){e.msg="invalid distance too far back",A.mode=30;break e}if(d>>>=b,f-=b,b=i-o,w>b){if(b=w-b,b>c&&A.sane){e.msg="invalid distance too far back",A.mode=30;break e}if(k=0,x=h,0===u){if(k+=l-b,b<y){y-=b;do{S[i++]=h[k++]}while(--b);k=i-w,x=S}}else if(u<b){if(k+=l+u-b,b-=u,b<y){y-=b;do{S[i++]=h[k++]}while(--b);if(k=0,u<y){b=u,y-=b;do{S[i++]=h[k++]}while(--b);k=i-w,x=S}}}else if(k+=u-b,b<y){y-=b;do{S[i++]=h[k++]}while(--b);k=i-w,x=S}for(;y>2;)S[i++]=x[k++],S[i++]=x[k++],S[i++]=x[k++],y-=3;y&&(S[i++]=x[k++],y>1&&(S[i++]=x[k++]))}else{k=i-w;do{S[i++]=S[k++],S[i++]=S[k++],S[i++]=S[k++],y-=3}while(y>2);y&&(S[i++]=S[k++],y>1&&(S[i++]=S[k++]))}break}}break}}while(n<r&&i<a);y=f>>3,n-=y,f-=y<<3,d&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),A.hold=d,A.bits=f};const Bt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ot=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ut=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var jt=(e,t,n,r,i,o,a,s)=>{const l=s.bits;let c,u,h,d,f,p,g=0,v=0,_=0,m=0,b=0,y=0,w=0,k=0,x=0,E=0,S=null,A=0;const I=new Uint16Array(16),R=new Uint16Array(16);let C,N,T,L=null,z=0;for(g=0;g<=15;g++)I[g]=0;for(v=0;v<r;v++)I[t[n+v]]++;for(b=l,m=15;m>=1&&0===I[m];m--);if(b>m&&(b=m),0===m)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(_=1;_<m&&0===I[_];_++);for(b<_&&(b=_),k=1,g=1;g<=15;g++)if(k<<=1,k-=I[g],k<0)return-1;if(k>0&&(0===e||1!==m))return-1;for(R[1]=0,g=1;g<15;g++)R[g+1]=R[g]+I[g];for(v=0;v<r;v++)0!==t[n+v]&&(a[R[t[n+v]]++]=v);if(0===e?(S=L=a,p=19):1===e?(S=Bt,A-=257,L=Ot,z-=257,p=256):(S=Mt,L=Ut,p=-1),E=0,v=0,g=_,f=o,y=b,w=0,h=-1,x=1<<b,d=x-1,1===e&&x>852||2===e&&x>592)return 1;for(;;){C=g-w,a[v]<p?(N=0,T=a[v]):a[v]>p?(N=L[z+a[v]],T=S[A+a[v]]):(N=96,T=0),c=1<<g-w,u=1<<y,_=u;do{u-=c,i[f+(E>>w)+u]=C<<24|N<<16|T|0}while(0!==u);for(c=1<<g-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,v++,0==--I[g]){if(g===m)break;g=t[n+a[v]]}if(g>b&&(E&d)!==h){for(0===w&&(w=b),f+=_,y=g-w,k=1<<y;y+w<m&&(k-=I[y+w],!(k<=0));)y++,k<<=1;if(x+=1<<y,1===e&&x>852||2===e&&x>592)return 1;h=E&d,i[h]=b<<24|y<<16|f-o|0}}return 0!==E&&(i[f+E]=g-w<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:Dt,Z_BLOCK:Ft,Z_TREES:Pt,Z_OK:Zt,Z_STREAM_END:Ht,Z_NEED_DICT:Wt,Z_STREAM_ERROR:$t,Z_DATA_ERROR:Vt,Z_MEM_ERROR:qt,Z_BUF_ERROR:Kt,Z_DEFLATED:Gt}=ve,Yt=12,Jt=30,Xt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Qt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const en=e=>{if(!e||!e.state)return $t;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,(e=>{if(!e||!e.state)return $t;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Zt})(e)};let tn,nn,rn=!0;const on=e=>{if(rn){tn=new Int32Array(512),nn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(jt(1,e.lens,0,288,tn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;jt(2,e.lens,0,32,nn,0,e.work,{bits:5}),rn=!1}e.lencode=tn,e.lenbits=9,e.distcode=nn,e.distbits=5},an=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var sn=en,ln=(e,t)=>{if(!e)return $t;const n=new Qt;e.state=n,n.window=null;const r=((e,t)=>{let n;if(!e||!e.state)return $t;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?$t:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,en(e))})(e,t);return r!==Zt&&(e.state=null),r},cn=(e,t)=>{let n,r,i,o,a,s,l,c,u,h,d,f,p,g,v,_,m,b,y,w,k,x,E=0;const S=new Uint8Array(4);let A,I;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return $t;n=e.state,n.mode===Yt&&(n.mode=13),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,h=s,d=l,x=Zt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=pe(n.check,S,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Jt;break}if((15&c)!==Gt){e.msg="unknown compression method",n.mode=Jt;break}if(c>>>=4,u-=4,k=8+(15&c),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=Jt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Yt,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==Gt){e.msg="unknown compression method",n.mode=Jt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Jt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=pe(n.check,S,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=pe(n.check,S,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=pe(n.check,S,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=pe(n.check,S,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f=n.length,f>s&&(f=s),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),k)),512&n.flags&&(n.check=pe(n.check,r,f,o)),s-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<s);if(512&n.flags&&(n.check=pe(n.check,r,f,o)),s-=f,o+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<s);if(512&n.flags&&(n.check=pe(n.check,r,f,o)),s-=f,o+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Jt;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Yt;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=Xt(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,Wt;e.adler=n.check=1,n.mode=Yt;case Yt:if(t===Ft||t===Pt)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=14;break;case 1:if(on(n),n.mode=20,t===Pt){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Jt}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Jt;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===Pt)break e;case 15:n.mode=16;case 16:if(f=n.length,f){if(f>s&&(f=s),f>l&&(f=l),0===f)break e;i.set(r.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,n.length-=f;break}n.mode=Yt;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Jt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.lens[R[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},x=jt(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid code lengths set",n.mode=Jt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],v=E>>>24,_=E>>>16&255,m=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(m<16)c>>>=v,u-=v,n.lens[n.have++]=m;else{if(16===m){for(I=v+2;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=Jt;break}k=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===m){for(I=v+3;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,k=0,f=3+(7&c),c>>>=3,u-=3}else{for(I=v+7;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,k=0,f=11+(127&c),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Jt;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===Jt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Jt;break}if(n.lenbits=9,A={bits:n.lenbits},x=jt(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid literal/lengths set",n.mode=Jt;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},x=jt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,x){e.msg="invalid distances set",n.mode=Jt;break}if(n.mode=20,t===Pt)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,zt(e,d),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===Yt&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],v=E>>>24,_=E>>>16&255,m=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(_&&0==(240&_)){for(b=v,y=_,w=m;E=n.lencode[w+((c&(1<<b+y)-1)>>b)],v=E>>>24,_=E>>>16&255,m=65535&E,!(b+v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,n.length=m,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=Yt;break}if(64&_){e.msg="invalid literal/length code",n.mode=Jt;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=n.distcode[c&(1<<n.distbits)-1],v=E>>>24,_=E>>>16&255,m=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(0==(240&_)){for(b=v,y=_,w=m;E=n.distcode[w+((c&(1<<b+y)-1)>>b)],v=E>>>24,_=E>>>16&255,m=65535&E,!(b+v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,64&_){e.msg="invalid distance code",n.mode=Jt;break}n.offset=m,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Jt;break}n.mode=25;case 25:if(0===l)break e;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Jt;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,p=a-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{i[a++]=g[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;i[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[o++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?pe(n.check,i,d,a-d):de(n.check,i,d,a-d)),d=l,(n.flags?c:Xt(c))!==n.check){e.msg="incorrect data check",n.mode=Jt;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Jt;break}c=0,u=0}n.mode=29;case 29:x=Ht;break e;case Jt:x=Vt;break e;case 31:return qt;default:return $t}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<Jt&&(n.mode<27||t!==Dt))&&an(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?pe(n.check,i,d,e.next_out-d):de(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Yt?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===d||t===Dt)&&x===Zt&&(x=Kt),x},un=e=>{if(!e||!e.state)return $t;let t=e.state;return t.window&&(t.window=null),e.state=null,Zt},hn=(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?$t:11===r.mode&&(i=1,i=de(i,t,n,0),i!==r.check)?Vt:(o=an(e,t,n,n),o?(r.mode=31,qt):(r.havedict=1,Zt))):$t},dn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const fn=Object.prototype.toString,{Z_NO_FLUSH:pn,Z_FINISH:gn,Z_OK:vn,Z_STREAM_END:_n,Z_NEED_DICT:mn,Z_STREAM_ERROR:bn,Z_DATA_ERROR:yn,Z_MEM_ERROR:wn}=ve;function kn(e){this.options=dt({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bt,this.strm.avail_out=0;let n=ln(this.strm,t.windowBits);if(n!==vn)throw new Error(ge[n]);if(this.header=new dn,((e,t)=>{if(!e||!e.state)return $t;const n=e.state;0==(2&n.wrap)||(n.head=t,t.done=!1)})(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=vt(t.dictionary):"[object ArrayBuffer]"===fn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=hn(this.strm,t.dictionary),n!==vn)))throw new Error(ge[n])}function xn(e,t){const n=new kn(t);if(n.push(e),n.err)throw n.msg||ge[n.err];return n.result}kn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?gn:pn,"[object ArrayBuffer]"===fn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=cn(n,a),o===mn&&i&&(o=hn(n,i),o===vn?o=cn(n,a):o===yn&&(o=mn));n.avail_in>0&&o===_n&&n.state.wrap>0&&0!==e[n.next_in];)sn(n),o=cn(n,a);switch(o){case bn:case yn:case mn:case wn:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===_n))if("string"===this.options.to){let e=mt(n.output,n.next_out),t=n.next_out-e,i=_t(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==vn||0!==s){if(o===_n)return o=un(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},kn.prototype.onData=function(e){this.chunks.push(e)},kn.prototype.onEnd=function(e){e===vn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ft(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var En={Inflate:kn,inflate:xn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,xn(e,t)},ungzip:xn,constants:ve};const{Deflate:Sn,deflate:An,deflateRaw:In,gzip:Rn}=Lt,{Inflate:Cn,inflate:Nn,inflateRaw:Tn,ungzip:Ln}=En;var zn={Deflate:Sn,deflate:An,deflateRaw:In,gzip:Rn,Inflate:Cn,inflate:Nn,inflateRaw:Tn,ungzip:Ln,constants:ve};const Bn=(e,t=!0)=>{var n=e.map((e=>new RegExp("."+e+"$"))),r=e.map((e=>new RegExp("."+e+".gz$")));return e=>{var i=!1;return n.forEach((t=>{null!==e.match(t)&&(i=!0)})),t&&r.forEach((t=>{null!==e.match(t)&&(i=!0)})),i}},On=(e,t=!1)=>(n,r)=>i=>{if(null!==i){var o=i.split(","),a=atob(o[1]);if(t){var s=a.split("").map((function(e){return e.charCodeAt(0)})),l=new Uint8Array(s);a=zn.ungzip(l,{to:"string"})}n(e(a))}else r("value not found")},Mn=e=>(t,n,r=!1)=>t.endsWith(".gz")||r?new Promise(((r,i)=>{fetch(t,n).then((e=>e.blob())).then((t=>{t.arrayBuffer().then((t=>{var n=zn.inflate(t,{to:"string"}),i=e(n);r(i)}))})).catch((e=>{i(e)}))})):fetch(t,n).then((e=>e.text())).then((t=>e(t))),Un=(e,t,n,r=!0)=>{var i={key:e,is:Bn(t),suffixes:t,parse:On(n),fetch:Mn(n)};return r&&(i.parseGzip=On(n,!0)),i},jn=Un("json",["json","JSON"],(e=>L(JSON.parse(e)))),Dn=Un("text",["txt","text","uri"],(e=>e)),Fn=e=>{const t=new FileReader;return t.readAsDataURL(e),new Promise((e=>{t.onloadend=()=>{e(t.result)}}))},Pn=(e,t)=>new Promise(((n,r)=>{fetch(e,t).then((e=>("404"==e.status&&r({error:"not found"}),e.blob()))).then(Fn).then((e=>{n(e)})).catch((e=>{r(e)}))}));var Zn=["png","jpg","JPG","jpeg","PNG","bmp"];const Hn={key:"img",is:Bn(Zn,!1),suffixes:Zn,parse:(e,t)=>n=>{null!==n?e(n):t("value not found")},fetch:Pn};var Wn={},$n={};function Vn(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function qn(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Kn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Gn(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return $n;if(c)return c=!1,Wn;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==$n;){for(var h=[];r!==Wn&&r!==$n;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+Kn(-r,6):r>9999?"+"+Kn(r,6):Kn(r,4))+"-"+Kn(n.getUTCMonth()+1,2)+"-"+Kn(n.getUTCDate(),2)+(s?"T"+Kn(i,2)+":"+Kn(o,2)+":"+Kn(a,2)+"."+Kn(s,3)+"Z":a?"T"+Kn(i,2)+":"+Kn(o,2)+":"+Kn(a,2)+"Z":o||i?"T"+Kn(i,2)+":"+Kn(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=Vn(e);return function(r,i){return t(n(r),i,e)}}(e,t):Vn(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=qn(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=qn(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}var Yn=Gn("\t"),Jn=Yn.parse;Yn.parseRows,Yn.format,Yn.formatBody,Yn.formatRows,Yn.formatRow,Yn.formatValue;const Xn=Un("tsv",["tsv","TSV"],Jn);var Qn=Gn(","),er=Qn.parse;Qn.parseRows,Qn.format,Qn.formatBody,Qn.formatRows,Qn.formatRow,Qn.formatValue;const tr=Un("csv",["csv","CSV"],er),nr=Un("svg",["svg","SVG"],(e=>(new DOMParser).parseFromString(e,"image/svg+xml"))),rr=Un("xml",["xml","XML"],(e=>(new DOMParser).parseFromString(e,"application/xml"))),ir=Un("html",["html","HTML"],(e=>(new DOMParser).parseFromString(e,"text/html"))),or=class{constructor(e={}){this.suffixMap={},this.parsers={},e.empty||this._init_()}_init_(){this.add(jn),this.add(Xn),this.add(tr),this.add(Hn),this.add(Dn),this.add(nr),this.add(rr),this.add(ir)}add(e){var t=this;e.key in t.parsers?console.warn("duplicated parser key",e.key):(t.parsers[e.key]=e,e.suffixes.forEach((n=>{n in t.suffixMap?console.warn("duplicated parser for same suffix",n):t.suffixMap[n]=e.key})))}getParser(e,t={}){"filename"in t&&(e=t.filename);var n=e.split("."),r=n.pop();return"gz"==r&&(r=n.pop()),r in this.suffixMap?this.parsers[this.suffixMap[r]]:null}remove(e){e in self.parsers&&(self.parsers[e].suffixes.forEach((t=>{self.suffixMap[t]==e&&delete self.suffixMap[t][e]})),delete self.parsers[e])}},ar=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),sr=new RegExp(/gsheet:\/\/[\S]{44}\/\S+/),lr=new RegExp(/storage:\/\/\S+\/\S+/),cr=new RegExp(/\.\/\S+/),ur=new RegExp(/\/\S+/);var hr=n(272),dr=n.n(hr);const fr={svg:"image/svg+xml",tsv:"text/tab-separated-values",csv:"text/comma-separated-values",txt:"text/plain",text:"text/plain",png:"image/png",bmp:"image/bmp",jpg:"image/jpg",json:"application/json"},pr=e=>fr[e]||"text/plain",gr=e=>{var t=e.split("/");return{fileName:t.pop(),storeName:t.pop()}},vr=(e,t)=>{var n=e.split(".");if(n.length>1){var r=n.pop(),i=n.join(".");return(i+=" ("+t+")")+"."+r}return e+"("+t+")"},_r=async(e,t)=>{for(var n=0,r=t;n<1e4;){var i;if(await e.getItem(r).then((e=>{i=e})),null===i)break;r=vr(t,n+=1)}return r};class mr extends N.EventEmitter{constructor(e="reflexiv",t={}){super(e),this._namespace=e,this._options=t,this._initStore()}_initStore(){var e=this;this.stores={};let t=dr().createInstance({name:e.namespace+"_os",storeName:"stores",size:4980736,version:3,description:e.ns+" os",driver:"asyncStorage"});this._stores_=t,this._stores_.keys().then((t=>{t.forEach((t=>{e.createStore(t,e.options.size)})),e.emit("inited",t)}))}set options(e){this._options=e}get options(){return this._options}set namespace(e){this._safeCloseStore(),this._namespace=e,this._initStore()}get namespace(){return this._namespace}createStore(e,t){let n=dr().createInstance({name:this.namespace+"_store",storeName:e,size:t||79691776,description:this.ns+" drive "+e,driver:"asyncStorage"});this.stores[e]=n;var r={created:(new Date).getTime()};console.log("Create Store",e,t,r.created),this._stores_.setItem(e,r)}_safeCloseStore(){let e=this;"namespace"in e&&(dr().dropInstance({name:e.namespace+"_store"}).then((()=>{console.log("Dropped store "+e.namespace)})),dr().dropInstance({name:e.namespace+"_os"}).then((()=>{console.log("Dropped store "+e.namespace)})))}makeFilesHandler(e){let t=this;return n=>{let r=n.target.files;for(var i,o=0;i=r[o];o++){var a=new FileReader;a.onload=function(n){return function(r){var i=r.target.result;_r(t.stores[e],n.name).then((n=>{t.create(e,n,i)}))}}(i),a.readAsDataURL(i)}}}makeFetch(e){let t=this;return(n,r={})=>{fetch(n,r).then((e=>e.text())).then((r=>{var i=n.split(".").pop(),o="data:"+pr(i)+";base64,"+btoa(r),a=n.split("/").pop();_r(t.stores[e],a).then((n=>{t.create(e,n,o)}))})).catch((e=>{console.warn(e)}))}}create(e,t,n){var r=this;e in r.stores||r.createStore(e),r.stores[e].getItem(t),r.stores[e].setItem(t,n).then((()=>{r.emit("create",{URI:"storage://"+e+"/"+t,fn:t,store:e})})).catch((e=>{console.warn(e)}))}getItem(e,t){return e in this.stores?this.stores[e].getItem(t):new Promise(((e,t)=>{t({error:"store not found"})}))}list(e){return e in this.stores?this.stores[e].keys():new Promise(((e,t)=>{t({error:"store not found"})}))}delete(e,t){var n=this;return e in n.stores?(n.stores[e].removeItem(t),n.emit("delete",{store:e,fn:t}),0):-1}removeStore(e){var t=this;console.log("remove store",e),e in t.stores&&(t.stores[e].clear(),t.stores[e].dropInstance({storeName:e,name:t.namespace+"_store"}).then((e=>{console.log("drop",e)})).catch((e=>{console.warn(e)})),delete t.stores[e],t._stores_.removeItem(e),t.emit("removeStore",{store:e}))}move(e,t){var n=gr(e),r=gr(t),i=this,o=i.stores[n.storeName].getItem(n.fileName);return null===o?-1:(_r(i.stores[r.storeName],r.fileName).then((e=>{i.create(r.storeName,e,o),i.delete(n.storeName,n.fileName)})),0)}copy(e,t){var n=gr(e),r=gr(t),i=this,o=i.stores[n.storeName].getItem(n.fileName);return null===o?-1:(_r(i.stores[r.storeName],r.fileName).then((e=>{i.create(r.storeName,e,o)})),0)}close(){this.emit("close"),this._safeCloseStore()}}const br=mr,yr=e=>new Promise((function(t,n){n({error:e})}));class wr extends N.EventEmitter{constructor(e,t={}){super(e);var n=this;this.namespace=e,"fs"in t?(this.fs=t.fs,this._close=()=>{}):(this.fs=new br(e),this.fs.on("inited",(e=>{this.emit("inited")})),this._close=()=>{n.fs.close()}),this._options=t,this._apiKey=t.apiKey||"AIzaSyBhECk4C1LpxI1mDJjSTwot-hRP2v3bwEA",this.buffer={},this.parsers=t.parsers||new or}get parsers(){return this._parsers}set parsers(e){this._fetchURL_=(e=>(t,n={})=>{var r=e.getParser(t,n);return null!==r?r.fetch(t,n):new Promise((function(e,t){t({error:"not support this format"})}))})(e),this._parsers=e}set apiKey(e){this._apiKey=e}get apiKey(){return this._apiKey}set options(e){this._options=e}get options(){return this._options}_fetchURL(e,t){return this._fetchURL_(e,this.options.fetchURLOptions||t||{})}_fetchLocalStorage(e,t={}){var n,r=this,i=e.split("/"),o=i[2],a=i[3];return n="filename"in t?t.filename.split(".").pop():a.split(".").pop(),new Promise(((e,i)=>{this.fs.getItem(o,a).then((o=>{var s=r.parsers.getParser(a,t);null!==s?"gz"==n&&"parseGzip"in s?s.parseGzip(e,i)(o):s.parse(e,i)(o):i("not support this format")})).catch((e=>{i(e)}))}))}_fetchGoogleSheet(e,t){var n=e.split("/");return((e,t,n)=>function(){var e="AIzaSyBhECk4C1LpxI1mDJjSTwot-hRP2v3bwEA",t="",n="Sheet1",r="A:ZZZ",i={},o=function(){return new Promise((function(o,a){var s=function(e,t,n,r){return"https://sheets.googleapis.com/v4/spreadsheets/"+e+"/values/"+t+"!"+n+"?key="+r}(t,n,r,e);fetch(s,i).then((function(e){return e.json()})).then((function(e){var t=function(e){var t=e[0],n=t.length,r=new Array(n-1);return r.columns=e[0],e.forEach((function(e,n){if(0!=n){var i={};e.forEach((function(e,n){i[t[n]]=e})),r[n-1]=i}})),r}(e.values);o(t)})).then((function(e){a(e)}))}))};return o.apiKey=function(t){return arguments.length?(e=t,o):e},o.sheetId=function(e){return arguments.length?(t=e,o):t},o.sheetTitle=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(r=e,o):r},o.options=function(e){return arguments.length?(i=e,o):i},o}().sheetId(e).sheetTitle(t).apiKey(n)())(n[2],n[3],this.apiKey)}_fetch_(e,t){let n=this;var r=(e=>null!==e.match(sr)?{type:"sheet",data:e.split(":").pop().replace("//","")}:null!==e.match(lr)?{type:"storage",data:e.split(":").pop().replace("//","")}:null!==e.match(ar)||null!==e.match(cr)||null!==e.match(ur)?{type:"web",data:e}:null)(e);return null==r?yr("parsing URI error"):"sheet"==r.type?n._fetchGoogleSheet(e,t):"storage"==r.type?n._fetchLocalStorage(e,t):"web"==r.type?n._fetchURL(e,t):yr("URI type not support")}fetch(e,t){var n=this;return new Promise(((r,i)=>{n._fetch_(e,t).then((e=>{r(e)})).catch((e=>{i(e)}))}))}close(){this._close(),this.emit("close")}}const kr=wr,xr=class extends kr{constructor(e,t={}){super(e,t),this.buffer={}}fetch(e,t){var n=this;return e in this.buffer?new Promise(((t,r)=>{t(n.buffer[e])})):n.refetch(e,t)}refetch(e,t){var n=this;return new Promise(((r,i)=>{super.fetch(e,t).then((t=>{n.buffer[e]=t,n.emit("dataReady",{URI:e}),r(t)})).catch((e=>{i(e)}))}))}clear(){let e=this;for(let t in e.buffer)delete e.buffer[t];this.emit("clear",e.buffer)}list(){return Object.keys(this.buffer).sort()}delete(e){e in this.buffer&&(delete this.buffer[e],this.emit("delete",{URI:e}))}},Er=e=>{var t=e.split("/");return{fileName:t.pop(),storeName:t.pop()}},Sr=(e,t)=>{var n=e.split(".");if(n.length>1){var r=n.pop(),i=n.join(".");return(i+=" ("+t+")")+"."+r}return e+"("+t+")"},Ar=async(e,t)=>{for(var n=0,r=t;n<1e4;){var i;if(i=r in e?r:null,console.log(i),null===i)break;r=Sr(t,n+=1)}return r};class Ir extends N.EventEmitter{constructor(e="reflexiv",t={}){super(e),this._namespace=e,this._options=t,this._initStore()}_initStore(){this.stores={},this.emit("inited")}set options(e){this._options=e}get options(){return this._options}set namespace(e){this._safeCloseStore(),this._namespace=e,this._initStore()}get namespace(){return this._namespace}createStore(e,t){this.stores[e]={}}_safeCloseStore(){this.stores=null}makeFilesHandler(e){let t=this;return n=>{let r=n.target.files;for(var i,o=0;i=r[o];o++){var a=new FileReader;a.onload=function(n){return function(r){var i=r.target.result;Ar(t.stores[e],n.name).then((n=>{t.create(e,n,i)}))}}(i),a.readAsDataURL(i)}}}makeFetch(e){let t=this;return(n,r={})=>{fetch(n,r).then((e=>e.text())).then((r=>{var i=n.split(".").pop(),o="data:"+pr(i)+";base64,"+btoa(r),a=n.split("/").pop();Ar(t.stores[e],a).then((n=>{t.create(e,n,o)}))})).catch((e=>{console.warn(e)}))}}create(e,t,n){var r=this;e in r.stores||(r.stores[e]={}),r.stores[e][t]=n,r.emit("create",{URI:"storage://"+e+"/"+t,fn:t,store:e})}getItem(e,t){var n=this;return e in n.stores?new Promise(((r,i)=>{t in n.stores[e]?r(n.stores[e][t]):i({error:"file not found"})})):new Promise(((e,t)=>{t({error:"store not found"})}))}list(e){var t=this;return e in this.stores?new Promise(((n,r)=>{n(Object.keys(t.stores[e]))})):new Promise(((e,t)=>{t({error:"store not found"})}))}delete(e,t){var n=this;return e in n.stores?(delete n.stores[e][t],n.emit("delete",{store:e,fn:t}),0):-1}removeStore(e){delete this.stores[e],this.emit("removeStore",{store:e})}move(e,t){var n=Er(e),r=Er(t),i=this,o=i.stores[n.storeName][n.fileName];return null===o?-1:(Ar(i.stores[r.storeName],r.fileName).then((e=>{i.create(r.storeName,e,o),i.delete(n.storeName,n.fileName)})),0)}copy(e,t){var n=Er(e),r=Er(t),i=this,o=i.stores[n.storeName][n.fileName];return null===o?-1:(Ar(i.stores[r.storeName],r.fileName).then((e=>{i.create(r.storeName,e,o)})),0)}close(){this.emit("close"),this._safeCloseStore()}}const Rr=Ir;function Cr(e){var t,n;return(n="getElement"in e&&"function"==typeof e.getElement?e.getElement():e).nodeType?t=n:n.jquery?t=n.get(0):"node"in n&&(t=n.node()),t}const Nr=class{constructor(){this.map={}}Get(e){return this.map[e]||null}Add(...e){return this.Register(...e)}Register(e,t=null){var n,r;return"string"==typeof e&&null!==t?(n=e,r=t):"name"in e&&(n=e.name,r=e),!(n in this.map)&&(this.map[n]=r,!0)}Remove(e){return this.Deregister(e)}Deregister(e){return e in this.map&&(delete this.map[e],!0)}ListKeys(){return Object.keys(this.map).sort()}List(){var e=this;return Object.keys(this.map).sort().map((t=>e.map[t]))}Map(){return this.map}};var Tr={name:"example",render:e=>(e,t)=>{e.setState(t),e.getElement().html("<h2>"+t.text+"</h2>")},initState:{text:"Example1 Init State"}},Lr={name:"example2",render:e=>(e,t)=>{e.setState(t),e.getElement().html("<h3>"+t.text+"</h3>")},initState:{text:"Example2 Init State"}},zr={name:"example3",render:(e,t)=>(e,t)=>{e.setState(t);var n=Cr(e.getElement());n.innerHTML="";var r=document.createElement("input");r.setAttribute("value",t.text),n.appendChild(r),r.addEventListener("keyup",(({key:e})=>{"Enter"===e&&r.blur()})),r.onblur=function(){var n=r.value;t.text=n,e.setState(t)}},initState:{text:"Example3 Init State"}};const Br=class extends Nr{constructor(){super()}initDemo(){return this.Register(Tr),this.Register(Lr),this.Register(zr),this}};var Or=n(1),Mr=n.n(Or);class Ur extends HTMLElement{constructor(){super(),this._core={},this._packages=new Br,this.panelDb=Mr().createInstance({name:this.namespace+"_paneldb"})}set core(e){this._core=e}get core(){return this._core}set namespace(e){"panelDb"in this&&(this.panelDb=Mr().createInstance({name:this.namespace+"_paneldb"})),this.setAttribute("namespace",e)}get namespace(){return this.getAttribute("namespace")||"sand"}set packages(e){this._packages=e}get packages(){return this._packages}}const jr=Ur,Dr=function(e){"function"==typeof e&&e(),"object"==typeof e&&"emit"in e&&e.emit("close")};var Fr,Pr=new Uint8Array(16);function Zr(){if(!Fr&&!(Fr="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fr(Pr)}const Hr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Wr=function(e){return"string"==typeof e&&Hr.test(e)};for(var $r=[],Vr=0;Vr<256;++Vr)$r.push((Vr+256).toString(16).substr(1));const qr=function(e,t,n){var r=(e=e||{}).random||(e.rng||Zr)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=($r[e[t+0]]+$r[e[t+1]]+$r[e[t+2]]+$r[e[t+3]]+"-"+$r[e[t+4]]+$r[e[t+5]]+"-"+$r[e[t+6]]+$r[e[t+7]]+"-"+$r[e[t+8]]+$r[e[t+9]]+"-"+$r[e[t+10]]+$r[e[t+11]]+$r[e[t+12]]+$r[e[t+13]]+$r[e[t+14]]+$r[e[t+15]]).toLowerCase();if(!Wr(n))throw TypeError("Stringified UUID is invalid");return n}(r)};var Kr=n(801);class Gr extends Kr.EventEmitter{constructor(e,t){super(),this._el=e,this._uuid=qr(),this.state=t||{}}get uuid(){return this._uuid}set uuid(e){this._uuid=e}get el(){return this._el}set el(e){this._el=e}get height(){return this._height||void 0}set height(e){this._height=e}get width(){return this._width||void 0}set width(e){this._width=e}getElement(){return this._el}getNode(){return this._el}updateSize(){}getState(){return this.state}setState(e){this.state=e}extendState(e){this.state={...this.state,...e}}}const Yr=Gr,Jr=class{constructor(e,t,n,r={},i=[]){this.name=e,this.version=t,this.render=n,this.initState=r,this.dependencies=i}set name(e){this._name=e}get name(){return this._name}set version(e){this._version=e}get version(){return this._version}},Xr=class extends Nr{constructor(){super()}},Qr=(e,t=null)=>{"string"!=typeof e&&"is"in e&&(e=(t=e).is);var n=customElements.get(e);return void 0===n?customElements.define(e,t):t=n,t},ei=(e,t=null)=>{"string"!=typeof e&&"is"in e&&(e=(t=e).is);var n=customElements.get(e);return void 0===n?customElements.define(e,t):t=n,t},ti=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi),ni=new RegExp(/gsheet:\/\/[\S]{44}\/\S+/),ri=new RegExp(/storage:\/\/\S+\/\S+/),ii=n(883).Z.toString(),oi=e=>(e.preventDefault&&e.preventDefault(),!1),ai=e=>{e.target.classList.add("over")},si=e=>{e.target.classList.remove("over"),e.target.style.backgroundColor=null};function li(e){e.stopPropagation(),this.style.opacity="0.4",e.dataTransfer.effectAllowed="move",console.log("drag start",this.value,this.getAttribute("URI")),e.dataTransfer.setData("URI",this.getAttribute("URI"))}function ci(e){e.stopPropagation(),this.style.opacity="1"}class ui extends HTMLElement{static get is(){return"reflex-ui-data-agent"}constructor(e){super(),this.shadow=this.attachShadow({mode:"open"}),this.agent=e,this.render()}set agent(e){this._agent=e}get agent(){return this._agent}connectedCallback(){}disconnectedCallback(){}render(){var e=this,t=document.createElement("style");t.innerHTML=ii,this.shadow.appendChild(t);var n=document.createElement("div");n.className="container";var r=document.createElement("div");r.className="menubar",r.innerHTML="Data Objects";var i=document.createElement("div");i.className="content";var o=document.createElement("div");o.className="content-menu";var a=document.createElement("div");a.style.display="none",a.innerHTML="";var s=document.createElement("input");s.setAttribute("type","button"),s.setAttribute("value","delete"),s.onclick=t=>{t.stopPropagation(),e.agent.delete(d),f("")},a.appendChild(s);var l=document.createElement("input");l.setAttribute("type","button"),l.setAttribute("value","open"),l.onclick=t=>{t.stopPropagation(),console.log(e.agent.buffer[d])},a.appendChild(l),o.appendChild(a),i.appendChild(o);var c=document.createElement("ul");n.appendChild(r),n.appendChild(i),i.appendChild(c),this.div=n,this.ul=c,this.shadow.appendChild(n),i.addEventListener("drop",(e=>t=>{t.stopPropagation(),t.preventDefault&&t.preventDefault();var n=t.dataTransfer.getData("URI");return si(t),e.fetch(n).then((e=>{})),!1})(e.agent),!1),i.addEventListener("dragenter",ai,!1),i.addEventListener("dragleave",si,!1),i.addEventListener("dragover",oi,!1),i.addEventListener("click",(e=>{e.stopPropagation(),f("")}),!1);var u=this.agent.list().sort(),h={},d="",f=e=>{for(var t in d=e,h)h[t].getElementsByClassName("thumbnail")[0].classList.remove("selected"),h[t].getElementsByClassName("thumbnail")[0].classList.add("unselected");e in h?(h[e].getElementsByClassName("thumbnail")[0].classList.add("selected"),h[e].getElementsByClassName("thumbnail")[0].classList.remove("unselected"),a.style.display=null):a.style.display="none"};u.forEach((t=>{h[t]=hi(e.ul,t),h[t].onclick=e=>{e.stopPropagation(),f(t)}})),e.agent.on("dataReady",(t=>{h[t.URI]=hi(e.ul,t.URI),h[t.URI].onclick=e=>{e.stopPropagation(),f(t.URI)}})),e.agent.on("delete",(e=>{h[e.URI].remove(),delete h[e.URI]})),e.agent.on("clear",(()=>{h={},e.ul.innerHTML=""}))}}const hi=(e,t)=>{var n,r=document.createElement("li"),i=document.createElement("div"),o=null!==(n=t).match(ni)?{type:"sheet",data:n.split(":").pop().replace("//","")}:null!==n.match(ri)?{type:"storage",data:n.split(":").pop().replace("//","")}:null!==n.match(ti)?{type:"web",data:n}:null;if(null!==t){i.className="thumbnail",i.classList.add("unselected"),i.innerHTML=o.type;var a=document.createElement("div");return a.className="filename",a.innerHTML=o.data,r.append(i),r.append(a),r.className="item",r.setAttribute("draggable",!0),r.addEventListener("dragstart",li,!1),r.addEventListener("dragend",ci,!1),r.setAttribute("URI",t),console.log(t),e.appendChild(r),r}return null},di=ei(ui);var fi=n(135);const pi="http://www.w3.org/2000/svg";var gi=Array.isArray;const vi=e=>{if(e._attrVar_=e._attrVar_||{},e._styleVar_=e._styleVar_||{},e.on=(t,n,r=!1)=>(e.addEventListener(t,n,r),e),e.off=(t,n,r=!1)=>(e.removeEventListener(t,n,r),e),e.once=(t,n,r={})=>(r.once=!0,e.addEventListener(t,n,r),e),e.emit=(t,n={})=>{if("string"==typeof t){var r=new CustomEvent(t,{detail:n});e.dispatchEvent(r)}else if("object"==typeof t)try{e.dispatchEvent(t)}catch(e){console.warn(e)}return e},e.style){e._style=e.style;var t={};Object.defineProperty(e,"style",{configurable:!0,get:()=>t,set:e=>{t=e}});var n=Object.keys(e._style);n.length<10&&(n=["width","height","backgroundColor","background","color","fontSize","fontWeight","fontFamily","display","zIndex","float","position","padding","paddingRight","paddingLeft","paddingRight","paddingTop","paddinngBottom","margin","marginLeft","marginRight","marginTop","marginBottom","top","left","right","bottom","border","borderLeft","borderTop","borderRight","borderBottom"]),n.forEach((n=>{Object.defineProperty(t,n,{configurable:!0,get:function(){return e._style[n]},set:function(t){if(n in e._styleVar_&&(e._styleVar_[n](),delete e._styleVar_[n]),null!==t&&"object"==typeof t&&"value"in t){const r=()=>{"value"in t&&void 0!==t.value?e._style[n]=t.value:e._style[n]=null};t.addEventListener("change",r,!1),e._styleVar_[n]=()=>{t.removeEventListener("change",r,!1)},r()}else e._style[n]=t}})}))}e._remove=e.remove,e.remove=()=>{if("_attrVar_"in e&&Object.keys(e._attrVar_).forEach((t=>{e._attrVar_[t]()})),"_styleVar_"in e&&Object.keys(e._styleVar_).forEach((t=>{e._styleVar_[t]()})),"children"in e)for(var t=e.children.length;e.children.length>0&&(e.children[0].remove(),t===e.children.length+1);)t=e.children.length;e._remove()}},_i=(e,t=!1)=>(n,r)=>{if(e._attrVar_=e._attrVar_||{},n.length>2&&"o"==n[0]&&"n"==n[1])n=n.slice(2),e.addEventListener(n,r);else if(n.length>3&&"o"==n[0]&&"f"==n[1]&&"f"==n[2])n=n.slice(3),e.removeEventListener(n,r);else if(n.length>5&&"s"==n[0]&&"t"==n[1]&&"y"==n[2]&&"l"==n[3]&&"e"==n[4]){var i=n.slice(5,6).toLowerCase()+n.slice(6);e.style[i]=r}else if(n in e._attrVar_&&(e._attrVar_[n](),delete e._attrVar_[n]),null!==r&&"object"==typeof r&&"value"in r){const i=()=>{null!==r&&"value"in r&&void 0!==r.value?t?e.setAttributeNS(null,n,r.value):e.setAttribute(n,r.value):t?e.setAttributeNS(null,n,null):e.setAttribute(n,null)};r.addEventListener("change",i,!1),e._attrVar_[n]=()=>{r.removeEventListener("change",i,!1)},i()}else t?e.setAttributeNS(null,n,r):e.setAttribute(n,r);return e},mi=e=>t=>{const n=_i(t,e);return t.attr=(e,r=null)=>null==r?(e=>t.getAttribute(e)||null)(e):n(e,r),vi(t),t},bi=e=>(t,n,r)=>{var i;i=e?"text"==t&&"string"==typeof r?(e=>{var t=document.createElementNS(pi,"text"),n=document.createTextNode(e);return t.appendChild(n),t})(r):document.createElementNS(pi,t):document.createElement(t);const o=_i(i,e);if(i.attr=(e,t=null)=>null==t?(e=>i.getAttribute(e)||n[e]||null)(e):o(e,t),vi(i),"object"==typeof n&&Object.keys(n).forEach((e=>{i.attr(e,n[e])})),void 0!==r)if("string"==typeof r)i.innerText=r;else if("object"==typeof r&&"r-var"==r.is){var a=r;const e=()=>{"value"in a&&void 0!==a.value?i.innerText=a.value:i.innerText=""};a.addEventListener("change",e,!1),i._attrVar_.innerText=()=>{a.removeEventListener("change",e,!1)},e()}else if(gi(r))if(2==r.length&&"function"==typeof r[0]){if(console.log("generate children",r),gi(r[1]))r[1].forEach((e=>{i.appendChild(r[0](e))}));else if("r-var"==r[1].is){var s=()=>{for(;i.children.length>0;)i.children[0].remove();gi(r[1].value)?r[1].value.forEach((e=>{i.append(r[0](e))})):i.append(r[0](r[1].value))};r[1].addEventListener("change",s,!1),"_attrVar_"in i?i._attrVar_.innerHTML=()=>{r[1].removeEventListener("change",s,!1)}:(i.__remove=i.remove,i.remove=()=>{r[1].removeEventListener("change",s,!1),i.__remove()}),r[1].value&&s()}}else r.forEach((e=>{i.appendChild(e)}));else i.appendChild(r);return i};class yi extends HTMLElement{constructor(){super(),mi(!1)(this)}}const wi=mi(!1),ki=mi(!0),xi=bi(!1),Ei=bi(!0);class Si extends EventTarget{constructor(e){super(),vi(this),void 0!==e&&(this._value_=e)}get value(){return this._value_}set value(e){if(this._value_!=e){var t=new Event("change");this._value_=e,this.dispatchEvent(t)}}set input(e){var t=this;return"_input_"in this&&void 0!==this._input_&&(this._input_.removeEventListener("change",t._inputChange_),this._input_.removeEventListener("close",t._inputClose_)),void 0===e?(this._input_=void 0,this._inputChange_=()=>{},void(this._inputClose_=()=>{})):(t._input_=e,t._inputChange_=()=>{console.log("input change",t.value,e.value),t.value=e.value},t._inputChange_(),e.addEventListener("change",t._inputChange_),t._inputClose_=()=>{console.log("up close"),t.close()},e.addEventListener("close",t._inputClose_),this)}get input(){return self._input_}pipe(e){return e.input=this,e}close(){void 0!==this._input_&&(this._input_.removeEventListener("change",this._inputChange_),this._input_.removeEventListener("close",this._inputClose_));var e=new Event("close");this.dispatchEvent(e)}get is(){return"r-var"}}const Ai=fi.Z.toString();function Ii(e){e.stopPropagation(),this.style.opacity="0.4",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("URI",this.getAttribute("URI"))}function Ri(e){e.stopPropagation(),this.style.opacity="1"}class Ci extends HTMLElement{static get is(){return"reflex-ui-data-finder"}constructor(e,t,n={}){super(),this.shadow=this.attachShadow({mode:"open"}),this.fs=e,this.node=t,this.args=n,this.render()}set height(e){this.div.style.height=e+"px"}get height(){return this.div.clientHeight}connectedCallback(){}disconnectedCallback(){}render(){var e=this,t=xi("style");t.innerHTML=Ai,this.shadow.appendChild(t),this.div=xi("div"),this.div.className="container",this.menu=xi("div"),this.menu.className="menubar",this.menu.innerHTML="Data Finder | ",this.sidebar=xi("div"),this.sidebar.className="sidebar";var n=xi("div");n.className="sidebar-menu",this.sidebar.append(n);var r=xi("input",{type:"button",value:"New",title:"Create a new file store"});n.appendChild(r),r.onclick=t=>{var n=prompt("Please enter a drive name: ","");if(null==n||""==n);else{var r=b(n);e.storeList.appendChild(r),x(n)}};var i=xi("input",{type:"button",value:"Delete",title:"Delete this drive"});n.appendChild(i),i.onclick=t=>{t.stopPropagation(),_&&confirm('Please confirm delete drive"'+_+'" ?')&&e.fs.removeStore(_)},e.fs.on("removeStore",(t=>{for(var n=t.store,r=e.storeList.getElementsByTagName("a"),i=0;i<r.length;i++)r[i].innerHTML==n&&r[i].remove();e.ul.innerHTML=""})),this.content=xi("div"),this.content.className="content";var o=xi("div");o.className="content-menu",this.content.appendChild(o),this.div.appendChild(this.menu),this.div.appendChild(this.sidebar),this.div.appendChild(this.content);var a=xi("input",{type:"file"}),s=xi("input",{type:"button",value:"Upload",title:"Upload a file from local disk"});s.onclick=e=>{a.click()};var l=xi("input",{type:"button",value:"Fetch",title:"Fetch a file from web (input a URL)"});l.onclick=e=>{var t=prompt("Please enter a Web URL:","");null==t||""==t||m(t,{})};var c=xi("span");c.innerHTML=" | ";var u=xi("input").attr("type","button").attr("value","URI").attr("title","Add a URI Link");u.onclick=t=>{var n=prompt("Please enter a code [FileName]|[gsheet://SpreadSheetId/SheetTitle] ","");if(null==n||""==n);else{var r=(e=>{var t=e.split("|");return{key:t.shift(),value:t.join("|")}})(n);e.fs.create(_,r.key+".uri",r.value)}};var h=xi("input").attr("type","button").attr("value","Download");h.onclick=t=>{t.stopPropagation(),e.fs.getItem(_,w).then((e=>{((e,t)=>{console.log("download",t);var n=document.createElement("a");n.download=t,n.href=e,n.click()})(e,w)})).catch((e=>{console.warn(e,d)}))};var f=xi("input").attr("type","button").attr("value","Delete");f.onclick=t=>{t.stopPropagation(),confirm('Please confirm delete file "'+w+'" ?')&&e.fs.delete(_,w)};var p=xi("input").attr("type","button").attr("value","Rename");p.onclick=t=>{t.stopPropagation();var n=prompt("Please enter a new file name:",w);null==n||""==n||n==w||e.fs.move("storage://"+_+"/"+w,"storage://"+_+"/"+n)};var g=xi("input").attr("type","button").attr("value","Copy");g.onclick=t=>{t.stopPropagation();var n=_+"/"+w,r=prompt("Please enter a new file path:",n);null==r||""==r||r==n||e.fs.copy("storage://"+n,"storage://"+r)};const v=e=>{c.style.display=e,h.style.display=e,g.style.display=e,f.style.display=e,p.style.display=e};v("none"),o.appendChild(s),o.appendChild(l),o.appendChild(u),o.appendChild(c),o.appendChild(h),o.appendChild(p),o.appendChild(g),o.appendChild(f),this.ul=xi("ul"),this.ul.className="dir",this.content.appendChild(this.ul),this.content.on("click",(t=>{w="";for(var n=e.ul.getElementsByTagName("li"),r=0;r<n.length;r++)n[r].getElementsByClassName("filename")[0].style.backgroundColor=null;v("none")})),e.storeList=xi("div"),e.sidebar.appendChild(e.storeList);var _,m,b=e=>{var t=xi("a");return t.innerHTML=e,t.onclick=()=>{e!==_&&x(e)},t},y={},w="",k=t=>{var n=xi("li");t.match(/\.uri$/)?e.fs.getItem(_,t).then((e=>{n.attr("URI",e)})):n.attr("URI","storage://"+_+"/"+t),y[t]=n,n.innerHTML="<div><div class='thumbnail'></div><div class='filename'>"+t+"</div></div>";var r=n.getElementsByClassName("thumbnail")[0],i=t.split(".").pop(),o=document.createTextNode(i.toUpperCase());r.appendChild(o),e.ul.appendChild(n),n.onclick=r=>{r.stopPropagation(),w=t;for(var i=e.ul.getElementsByTagName("li"),o=0;o<i.length;o++)i[o].getElementsByClassName("filename")[0].style.backgroundColor=null;n.getElementsByClassName("filename")[0].style.backgroundColor="lightgreen",v(null)},n.className="item",n.attr("draggable",!0).on("dragstart",Ii,!1).on("dragend",Ri,!1)},x=t=>{!function(e){if(e.value)try{e.value=""}catch(i){if(e.value){var t=xi("form"),n=e.parentNode,r=e.nextSibling;t.append(e),t.reset(),n.insertBefore(e,r)}}}(a);for(var n=e.storeList.getElementsByTagName("a"),r=0;r<n.length;r++)n[r].innerHTML==t?n[r].classList.add("active"):n[r].classList.remove("active");for(var i in _=t,w="",v("none"),t in e.fs.stores||(console.log("create store",t),e.fs.createStore(t)),e.menu.innerHTML="Data Finder | "+_,a.onchange=e.fs.makeFilesHandler(t),m=e.fs.makeFetch(t),y)delete y[i];var o=this.fs.list(t);this.ul.innerHTML="",o.then((e=>{e.sort(((e,t)=>e.toLowerCase().localeCompare(t.toLowerCase()))).forEach((e=>{k(e)}))}))};this.fs.on("delete",(e=>{e.store==_&&y[e.fn].remove()})),this.fs.on("create",(t=>{t.store===_&&(t.fn in y||(k(t.fn),(e=>{var t,n,r,i;for(n=!0;n;){for(n=!1,r=e.getElementsByTagName("li"),t=0;t<r.length-1;t++)if(i=!1,r[t].innerHTML.toLowerCase()>r[t+1].innerHTML.toLowerCase()){i=!0;break}i&&(r[t].parentNode.insertBefore(r[t+1],r[t]),n=!0)}})(e.ul)))})),this.fs.on("move",(e=>{})),this.fs.on("close",(e=>{}));const E=t=>{t.forEach((t=>{var n=b(t);e.storeList.appendChild(n)})),t.length>0&&x(t[0])};this.fs.on("inited",E);var S=Object.keys(this.fs.stores);S.length>0&&E(S),this.shadow.appendChild(this.div)}update(){}}const Ni=ei(Ci),Ti=e=>(console.log("dragover"),e.preventDefault&&e.preventDefault(),!1),Li=e=>{console.log("dragenter"),e.target.classList.add("over")},zi=e=>{console.log("dragleave"),e.target.classList.remove("over"),e.target.style.backgroundColor=null};class Bi extends HTMLElement{constructor(e,t){super(),this.shadow=this.attachShadow({mode:"open"}),this.adaptor=e,this.node=t,t.define("data",(e=>{}));var n=document.createElement("div");n.className="dropBox",n.addEventListener("drop",((e,t)=>n=>{n.stopPropagation(),n.preventDefault&&n.preventDefault();var r=n.dataTransfer.getData("URI");return zi(n),n.target.innerHTML=r,e.fetch(r).then((e=>{t.set("data",{key:r,value:e})})),console.log("drop"),!1})(e,t),!1),n.addEventListener("dragenter",Li,!1),n.addEventListener("dragleave",zi,!1),n.addEventListener("dragover",Ti,!1),this.shadow.innerHTML='\n\t\t    <style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .over {\n                background-color:"lightblue"\n            }\n             .dropBox {\n                 height: 100px;\n                 width: 200px;\n                 border: 1px solid;\n                 font-size: small;\n                 overflow: auto;\n             }\n\t\t    </style>\n        ',this.shadow.appendChild(n)}static get is(){return"reflex-drop-box"}}ei(Bi);const Oi=Bi,Mi=e=>(console.log("dragover"),e.preventDefault&&e.preventDefault(),!1),Ui=e=>{console.log("dragenter"),e.target.classList.add("over")},ji=e=>{console.log("dragleave"),e.target.classList.remove("over"),e.target.style.backgroundColor=null};class Di extends HTMLElement{constructor(e){super(),this.shadow=this.attachShadow({mode:"open"}),this.adaptor=adaptor,this.node=e,e.define("data",onchange);var t=document.createElement("div");t.className="dropBox",t.addEventListener("drop",((e,t)=>e=>{e.stopPropagation(),e.preventDefault&&e.preventDefault();var n=e.dataTransfer.getData("URI");return ji(e),e.target.innerHTML=n,t.set("data",{key:n,value:n}),!1})(adaptor,e),!1),t.addEventListener("dragenter",Ui,!1),t.addEventListener("dragleave",ji,!1),t.addEventListener("dragover",Mi,!1),this.shadow.innerHTML='\n\t\t    <style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .over {\n                background-color:"lightblue"\n            }\n             .dropBox {\n                 height: 100px;\n                 width: 200px;\n                 border: 1px solid;\n                 font-size: small;\n                 overflow: auto;\n             }\n\t\t    </style>\n        ',this.shadow.appendChild(t)}static get is(){return"reflex-uri-drop-box"}}ei(Di);const Fi=Di;var Pi=new RegExp(/\.svg$/),Zi=new RegExp(/\.txt$/),Hi=new RegExp(/\.png$/),Wi=new RegExp(/\.PNG$/),$i=new RegExp(/\.jpg$/),Vi=new RegExp(/\.json$/);class qi extends HTMLElement{constructor(e){super(),this.shadow=this.attachShadow({mode:"open"}),this.node=e;var t=document.createElement("div");this.shadow.appendChild(t),this.node.define("data",(e=>{void 0===e.key?t.innerHTML="No Data":"object"==typeof e.value&&"columns"in e.value?t.innerHTML=e.key+"<br>"+e.value.length+"x"+e.value.columns.length+"<br>":e.key.match(Vi)?t.innerHTML=JSON.stringify(e.value):e.key.match(Pi)?t.innerHTML=e.value:e.key.match(Zi)?t.innerHTML="<pre>"+e.value+"</pre>":e.key.match(Hi)||e.key.match($i)||e.key.match(Wi)?t.innerHTML="<img src='"+e.value+"'></img>":t.innerHTML="Not support this format :"+e.key}))}static get is(){return"reflex-simple-render"}}ei(qi);const Ki=qi;class Gi extends HTMLElement{constructor(){super(),this._modalVisible=!1,this._modal,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n        <style>\n            /* The Modal (background) */\n            .modal {\n                display: none; \n                position: fixed; \n                z-index: 1000; \n                padding-top: 100px; \n                left: 0;\n                top: 0;\n                width: 100%; \n                height: 100%; \n                overflow: auto; \n                background-color: rgba(0,0,0,0.4); \n            }\n            /* Modal Content */\n            .modal-content {\n                position: relative;\n                background-color: #fefefe;\n                margin: auto;\n                padding: 0;\n                border: 1px solid #888;\n                width: 80%;\n                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\n                -webkit-animation-name: animatetop;\n                -webkit-animation-duration: 0.4s;\n                animation-name: animatetop;\n                animation-duration: 0.4s\n            }\n            /* Add Animation */\n            @-webkit-keyframes animatetop {\n                from {top:-300px; opacity:0} \n                to {top:0; opacity:1}\n            }\n            @keyframes animatetop {\n                from {top:-300px; opacity:0}\n                to {top:0; opacity:1}\n            }\n            /* The Close Button */\n            .close {\n                color: white;\n                float: right;\n                font-size: 28px;\n                font-weight: bold;\n            }\n            .close:hover,\n            .close:focus {\n            color: #000;\n            text-decoration: none;\n            cursor: pointer;\n            }\n            .modal-header {\n            padding: 2px 16px;\n            background-color: #000066;\n            color: white;\n            }\n            .modal-body {padding: 2px 16px; margin: 20px 2px}\n        </style>\n        <button>Open Modal</button>\n        <div class="modal">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <span class="close">&times;</span>\n                    <slot name="header"><h1>Config</h1></slot>\n                </div>\n                <div class="modal-body">\n                    <slot><slot>\n                </div>\n            </div>\n        </div>\n        '}connectedCallback(){this._modal=this.shadowRoot.querySelector(".modal"),this._modal.addEventListener("mouseover",(e=>{e.stopPropagation()})),this._modal.addEventListener("click",(e=>{e.stopPropagation()})),this.shadowRoot.querySelector("button").addEventListener("click",this._showModal.bind(this)),this.shadowRoot.querySelector(".close").addEventListener("click",this._hideModal.bind(this))}disconnectedCallback(){this.shadowRoot.querySelector("button").removeEventListener("click",this._showModal),this.shadowRoot.querySelector(".close").removeEventListener("click",this._hideModal)}_showModal(){this._modalVisible=!0,this._modal.style.display="block"}_hideModal(){this._modalVisible=!1,this._modal.style.display="none"}static get is(){return"reflex-modal"}}ei(Gi);const Yi=Gi;class Ji extends HTMLElement{static get is(){return"reflex-ui-state-bridge-io"}constructor(e,t,n={},r){super(),this.shadow=this.attachShadow({mode:"open"}),this.bridge=e,this.node=t,this.args=n,this.onchange=r}set node(e){this._node=e}get node(){return this._node}set bridge(e){this._bridge=e}get bridge(){return this._bridge}set args(e){this._args=e}get args(){return this._args}connectedCallback(){this.render()}disconnectedCallback(){}render(){this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            input {\n                width:100px;\n            }\n            .io {\n                float:left;\n            }\n            div {\n                min-height: 30px;\n            }\n\n\t\t</style>\n        ";var e=xi("div");this.div=e;var t=this.bridge,n=this.node,r=this.args,i=r.io||"",o=(xi("div"),xi("input"));o.className="io",o.value=i,o.on("keyup",(e=>{13===e.keyCode?o.blur():o.style.backgroundColor="lightyellow"})),i.length>0&&(async()=>{await t.link(i,n),await t.link(n,i),o.style.backgroundColor="lightgreen",this.onchange&&this.onchange(i)})(),n._onMessageEffect_=(e,t)=>{o.style.backgroundColor,o.style.backgroundColor="#e5fee5",setTimeout((()=>{o.style.backgroundColor="lightgreen"}),200)},n._postMessageEffect_=e=>{o.style.backgroundColor,o.style.backgroundColor="#e5fee5",setTimeout((()=>{o.style.backgroundColor="lightgreen"}),200)},o.on("blur",(async e=>{var a=o.value;i!==a&&(i.length>0&&(t.unlink(i,n),t.unlink(n,i)),a.length>0?(await t.link(a,n),await t.link(n,a),o.style.backgroundColor="lightgreen"):o.style.backgroundColor="white",i=a,r.io=a,this.onchange&&this.onchange(i))})),this.div.appendChild(o),this.shadow.appendChild(this.div)}}const Xi=ei(Ji);function Qi(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function eo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function to(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function no(){}var ro=.7,io=1/ro,oo="\\s*([+-]?\\d+)\\s*",ao="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lo=/^#([0-9a-f]{3,8})$/,co=new RegExp("^rgb\\("+[oo,oo,oo]+"\\)$"),uo=new RegExp("^rgb\\("+[so,so,so]+"\\)$"),ho=new RegExp("^rgba\\("+[oo,oo,oo,ao]+"\\)$"),fo=new RegExp("^rgba\\("+[so,so,so,ao]+"\\)$"),po=new RegExp("^hsl\\("+[ao,so,so]+"\\)$"),go=new RegExp("^hsla\\("+[ao,so,so,ao]+"\\)$"),vo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _o(){return this.rgb().formatHex()}function mo(){return this.rgb().formatRgb()}function bo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yo(t):3===n?new Eo(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?wo(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?wo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=co.exec(e))?new Eo(t[1],t[2],t[3],1):(t=uo.exec(e))?new Eo(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ho.exec(e))?wo(t[1],t[2],t[3],t[4]):(t=fo.exec(e))?wo(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=po.exec(e))?Ro(t[1],t[2]/100,t[3]/100,1):(t=go.exec(e))?Ro(t[1],t[2]/100,t[3]/100,t[4]):vo.hasOwnProperty(e)?yo(vo[e]):"transparent"===e?new Eo(NaN,NaN,NaN,0):null}function yo(e){return new Eo(e>>16&255,e>>8&255,255&e,1)}function wo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Eo(e,t,n,r)}function ko(e){return e instanceof no||(e=bo(e)),e?new Eo((e=e.rgb()).r,e.g,e.b,e.opacity):new Eo}function xo(e,t,n,r){return 1===arguments.length?ko(e):new Eo(e,t,n,null==r?1:r)}function Eo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function So(){return"#"+Io(this.r)+Io(this.g)+Io(this.b)}function Ao(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Io(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ro(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new No(e,t,n,r)}function Co(e){if(e instanceof No)return new No(e.h,e.s,e.l,e.opacity);if(e instanceof no||(e=bo(e)),!e)return new No;if(e instanceof No)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new No(a,s,l,e.opacity)}function No(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function To(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Lo(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}eo(no,bo,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:_o,formatHex:_o,formatHsl:function(){return Co(this).formatHsl()},formatRgb:mo,toString:mo}),eo(Eo,xo,to(no,{brighter:function(e){return e=null==e?io:Math.pow(io,e),new Eo(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?ro:Math.pow(ro,e),new Eo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:So,formatHex:So,formatRgb:Ao,toString:Ao})),eo(No,(function(e,t,n,r){return 1===arguments.length?Co(e):new No(e,t,n,null==r?1:r)}),to(no,{brighter:function(e){return e=null==e?io:Math.pow(io,e),new No(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?ro:Math.pow(ro,e),new No(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Eo(To(e>=240?e-240:e+120,i,r),To(e,i,r),To(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const zo=e=>()=>e;function Bo(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):zo(isNaN(e)?t:e)}function Oo(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=xo(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}!function e(t){var n=function(e){return 1==(e=+e)?Bo:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):zo(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=xo(e)).r,(t=xo(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Bo(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);var Mo=Oo((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return Lo((n-r/t)*t,a,i,o,s)}}));Oo((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return Lo((n-r/t)*t,i,o,a,s)}}));const Uo=e=>Mo(e[e.length-1]);var jo=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Qi);Uo(jo);var Do=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Qi);Uo(Do);var Fo=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Qi);Uo(Fo);const Po={a:jo[9],b:Do[9],c:Fo[9]},Zo=["M323.625,348.825c-6.8,0-13.5-2.6-18.7-7.8c-15.4-15.4-36-23.9-57.8-23.9s-42.4,8.5-57.8,23.9\n\t\t\t\tc-10.3,10.3-27.1,10.3-37.4,0c-10.3-10.3-10.3-27.1,0-37.4c25.4-25.4,59.2-39.4,95.2-39.4s69.8,14,95.2,39.5\n\t\t\t\tc10.3,10.3,10.3,27.1,0,37.4C337.225,346.225,330.425,348.825,323.625,348.825z","M395.225,277.325c-6.8,0-13.5-2.6-18.7-7.8c-71.4-71.3-187.4-71.3-258.8,0c-10.3,10.3-27.1,10.3-37.4,0s-10.3-27.1,0-37.4c92-92,241.6-92,333.6,0c10.3,10.3,10.3,27.1,0,37.4C408.725,274.725,401.925,277.325,395.225,277.325z","M467.925,204.625c-6.8,0-13.5-2.6-18.7-7.8c-111.5-111.4-292.7-111.4-404.1,0c-10.3,10.3-27.1,10.3-37.4,0s-10.3-27.1,0-37.4c64-64,149-99.2,239.5-99.2s175.5,35.2,239.5,99.2c10.3,10.3,10.3,27.1,0,37.4C481.425,202.025,474.625,204.625,467.925,204.625z"],Ho=(e,t,n,r)=>{var i=(()=>{var e=Zo.map((e=>Ei("path").attr("d",e).attr("fill","grey")));return e.push(Ei("circle",{cx:"247.125",cy:"398.925",r:"35.3",fill:"black"})),{p:e,icon:Ei("svg",{height:24,width:24,class:"icon"},Ei("g",{transform:"scale(0.0310)"},e))}})(),o=i.icon,a=i.p,s=xi("label"),l=0,c=n.value||"",u=!1;const h=()=>{a.forEach((e=>{e.attr("fill","grey")}));for(var e=0;e<l;e++)a[e].attr("fill","black");a[3].attr("fill","black"),u&&a[3].attr("fill","grey")};o.onclick=e=>{u||(l+=1,l%=4,h(),0==l?d.setAttribute("disabled",!0):d.removeAttribute("disabled"),d.value=null,d.style.backgroundColor="white",f())};var d=xi("input",{type:"number",max:99,min:0});const f=()=>{c.length>0&&null!==c.match(/[abc]-[\d+]/)&&(n.in&&e.unlink(c,t),n.out&&e.unlink(t,c),c="",r(""))},p=async i=>{if(i.length>0){n.in&&await e.link(i,t),n.out&&await e.link(t,i),c=i,r(i);var o=i.split("-");d.style.backgroundColor=Po[o[0]][(o[1]-1)%5+3],d.style.color=(e=>e>2)((o[1]-1)%5)?"white":"black"}else d.style.color="black",d.style.backgroundColor="white"},g=["none","a","b","c"];return d.onchange=e=>{if(0!=l){var t=g[l]+"-"+d.value;f(),""!==d.value?p(t):(d.value=null,d.style.backgroundColor="white")}},c.length>0&&null!==c.match(/[abc]-[\d+]/)?(async()=>{var e=c.split("-");d.value=parseInt(e[1]),l=e[0].charCodeAt()-96,h(),p(c)})():(l=0,d.setAttribute("disabled",!0)),s.mode=()=>l,s.append(o),s.append(d),s.reset=()=>{0!=l&&(f(),l=0,h(),d.setAttribute("disabled",!0),d.value=null,d.style.backgroundColor="white")},s.disabled=e=>{u=e,h()},s},Wo="\n            label {\n  position: relative;\n}\n\nlabel > .icon {\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  transform: translateY(-50%);\n}\n\nlabel > input {\n  padding-left: calc(1em + 10px + 8px); /* icon width + icon padding-left + desired separation*/\n  height: 1.35em;\n  width: 2.45em;\n}\n\n.icon {\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n  cursor: point;\n}\nsvg {\n  opacity: 0.8\n}\nsvg:hover {\n  opacity: 1.0\n}\n";class $o extends HTMLElement{static get is(){return"ui-state-bridge"}constructor(e,t,n={},r){super(),this.shadow=this.attachShadow({mode:"open"});var i=xi("style");i.innerHTML=Wo,this.shadow.appendChild(i),this.bridge=e,this.node=t,this.args=n,this.onchange=r,this._disabled=n.disabled||!1,this.render()}get mode(){return this.input.mode()}set node(e){this._node=e}get node(){return this._node}set bridge(e){this._bridge=e}get bridge(){return this._bridge}set args(e){this._args=e}get args(){return this._args}set disabled(e){"reset"in this&&this.reset(),this._disabled=e,this.input.disabled(e)}get disabled(){return this._disabled}connectedCallback(){}disconnectedCallback(){}render(){var e=this,t=Ho(this.bridge,this.node,{in:!0,out:!0,value:this.args.io||""},(t=>{"onchange"in e&&"function"==typeof e.onchange&&e.onchange(t)}));this.div=xi("div"),this.div.appendChild(t),this.input=t,this.reset=t.reset,this.shadow.appendChild(this.div)}}customElements.define($o.is,$o);const Vo=$o;class qo extends HTMLElement{set width(e){this._width=e}get width(){return this._width}static get is(){return"reflex-ui-bridge"}constructor(e,t,n={},r){super(),this.shadow=this.attachShadow({mode:"open"}),this.bridge=e,this.node=t,this.args=n,this.onchange=r}set node(e){this._node=e}get node(){return this._node}set bridge(e){this._bridge=e}get bridge(){return this._bridge}set args(e){this._args=e}get args(){return this._args}connectedCallback(){this.render()}disconnectedCallback(){}render(){this.shadow.innerHTML="\n\t\t<style>\n\t\t\t:host{\n                all:initial;\n\t\t\t}\n            .in {\n                float:left;\n            }\n            .out {\n                float:right;\n            }\n   \t\t\t:host{\n                all:initial;\n\t\t\t}\n        "+Wo+"   \n\t\t</style>\n        ";var e=xi("div");this.div=e;var t=this.bridge,n=this.node,r=this.args,i=Ho(t,n,{in:!0,out:!1,value:r.input||""},(e=>{r.input=e}));i.className="in";var o=Ho(t,n,{in:!1,out:!0,value:r.output||""},(e=>{r.output=e}));o.className="out",this.div.appendChild(i),this.div.appendChild(o),this.shadow.appendChild(this.div)}}ei(qo);const Ko=qo;var Go={value:()=>{}};function Yo(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Jo(r)}function Jo(e){this._=e}function Xo(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function Qo(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function ea(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Go,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Jo.prototype=Yo.prototype={constructor:Jo,on:function(e,t){var n,r=this._,i=Xo(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=ea(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ea(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=Qo(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Jo(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const ta=Yo;class na extends p{constructor(e,t){super(),this._=t,this.dispatch=e;var n=this;this._uuid="dispatch-"+this._uuid,this.onMessage=function(e,t){e.data,"code"in e&&e.code in n._&&n.dispatch.call(e.code,this,e.data)}}on(e,t){this.dispatch.on(e,t)}call(e,t,n){this.dispatch.call(e,t,n),"_from_"in n&&"external"==n._from_||this.postMessage({code:e,data:n})}}const ra=function(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}var i=ta(...arguments);return new na(i,r)};class ia extends HTMLElement{constructor(){super(),this.swInited=!1,this.version=null,this.div=document.createElement("div"),this.button=document.createElement("input"),this.button.setAttribute("type","button"),this.button.setAttribute("value","Update");var e=document.createElement("span");e.innerHTML="New version available",this.div.appendChild(e),this.div.appendChild(this.button),this.div.style.display="none"}set scope(e){this.setAttribute("scope",e)}get scope(){return console.log("scope",this.getAttribute("scope")),this.getAttribute("scope")}set worker(e){this.setAttribute("worker",e)}get worker(){return console.log("worker",this.getAttribute("worker")),this.getAttribute("worker")}static get is(){return"reflexiv-service-worker-bar"}connectedCallback(){this.appendChild(this.div),this.initVersion((function(e){self.swInited=e}))}disconnectedCallback(){}initVersion(e){var t=this;if(navigator.serviceWorker){var n;let r;console.log("Service Worker Supported"),t.button.onclick=function(){n.postMessage({action:"skipWaiting"})},navigator.serviceWorker.register(t.worker,{scope:t.scope}).then((function(r){r.waiting&&r.active?(n=r.waiting,t.div.style.display=null):r.addEventListener("updatefound",(()=>{(n=r.installing).addEventListener("statechange",(()=>{"installed"===n.state&&navigator.serviceWorker.controller&&(t.div.style.display=null)}))})),e(!0)})).catch((function(e){console.log("Fail Register ServiceWorker",e)})),navigator.serviceWorker.addEventListener("controllerchange",(function(){r||(window.location.reload(),r=!0)}))}else console.log("Service Worker Not Supported"),e(!1)}}Qr(ia);const oa=ia,aa={bridge:class{constructor(e,t={}){this.core=e,this.options=t,this.core.bridge=new I(t.namespace||e.namespace||"reflexiv",t)}provides(){return["@reflexiv/bridge"]}init(){return console.log("bridge service init"),Promise.resolve()}start(){console.log("bridge service start")}destroy(){console.log("bridge service end"),this.core.bridge.close()}close(){this.destroy()}},data:class{constructor(e,t={}){this.core=e,this.options=t,this.inited=!1;var n=new xr(e.namespace||t.namespace||"reflexiv",t);this.core.data=n}provides(){return["@reflexiv/data"]}init(){console.log("data system service init");var e=this.core.data;return this.inited?Promise.resolve():new Promise(((t,n)=>{e.on("inited",(()=>{t("inited")}))}))}start(){console.log("data system service start")}destroy(){console.log("data system service close"),this.core.data.close()}close(){this.destroy()}}}})(),r})()},160:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{app:()=>Ln});var e=n(818);n(160);const t="undefined"!=typeof window?window:"undefined"!=typeof self?self:{fetch:void 0};class i{constructor(e,n={}){this.baseOverrides={},this.url=e;const r=n.fetch||t.fetch&&t.fetch.bind(t);if(!r)throw new TypeError("no fetch function supplied, and none found in global environment");n.overrides&&(this.baseOverrides=n.overrides),this.fetchImplementation=r}async getBufferFromResponse(t){if("function"==typeof t.buffer)return t.buffer();if("function"==typeof t.arrayBuffer){const n=await t.arrayBuffer();return e.lW.from(n)}throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}async fetch(e,t){let n;try{n=await this.fetchImplementation(e,t)}catch(r){if(!`${r}`.includes("Failed to fetch"))throw r;console.warn(`generic-filehandle: refetching ${e} to attempt to work around chrome CORS header caching bug`),n=await this.fetchImplementation(e,{...t,cache:"reload"})}return n}async read(e,t=0,n,r=0,i={}){const{headers:o={},signal:a,overrides:s={}}=i;n<1/0?o.range=`bytes=${r}-${r+n}`:n===1/0&&0!==r&&(o.range=`bytes=${r}-`);const l={...this.baseOverrides,...s,headers:{...o,...s.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:a},c=await this.fetch(this.url,l);if(!c.ok)throw new Error(`HTTP ${c.status} ${c.statusText} ${this.url}`);if(200===c.status&&0===r||206===c.status){const r=await this.getBufferFromResponse(c),i=r.copy(e,t,0,Math.min(n,r.length)),o=c.headers.get("content-range"),a=/\/(\d+)$/.exec(o||"");return a&&a[1]&&(this._stat={size:parseInt(a[1],10)}),{bytesRead:i,buffer:e}}if(200===c.status)throw new Error("${this.url} fetch returned status 200, expected 206");throw new Error(`HTTP ${c.status} fetching ${this.url}`)}async readFile(e={}){let t,n;"string"==typeof e?(t=e,n={}):(t=e.encoding,n=e,delete n.encoding);const{headers:r={},signal:i,overrides:o={}}=n,a={headers:r,method:"GET",redirect:"follow",mode:"cors",signal:i,...this.baseOverrides,...o},s=await this.fetch(this.url,a);if(!s)throw new Error("generic-filehandle failed to fetch");if(200!==s.status)throw Object.assign(new Error(`HTTP ${s.status} fetching ${this.url}`),{status:s.status});if("utf8"===t)return s.text();if(t)throw new Error(`unsupported encoding: ${t}`);return this.getBufferFromResponse(s)}async stat(){if(!this._stat){const t=e.lW.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}}function o(e){let t=e.length;for(;--t>=0;)e[t]=0}const a=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),s=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=new Array(576);o(u);const h=new Array(60);o(h);const d=new Array(512);o(d);const f=new Array(256);o(f);const p=new Array(29);o(p);const g=new Array(30);function v(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let _,m,b;function y(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}o(g);const w=e=>e<256?d[e]:d[256+(e>>>7)],k=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},x=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},E=(e,t,n)=>{x(e,n[2*t],n[2*t+1])},S=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},A=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=15;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=S(r[t]++,t))}},I=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},R=e=>{e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},C=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},N=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&C(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!C(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},T=(e,t,n)=>{let r,i,o,l,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],i=e.pending_buf[e.l_buf+c],c++,0===r?E(e,i,t):(o=f[i],E(e,o+256+1,t),l=a[o],0!==l&&(i-=p[o],x(e,i,l)),r--,o=w(r),E(e,o,n),l=s[o],0!==l&&(r-=g[o],x(e,r,l)))}while(c<e.last_lit);E(e,256,t)},L=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)N(e,n,a);l=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,N(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,h,d,f,p,g=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],d=n[2*n[2*u+1]+1]+1,d>l&&(d=l,g++),n[2*u+1]=d,u>r||(e.bl_count[d]++,f=0,u>=s&&(f=a[u-s]),p=n[2*u],e.opt_len+=p*(d+f),o&&(e.static_len+=p*(i[2*u+1]+f)));if(0!==g){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(d=l;0!==d;d--)for(u=e.bl_count[d];0!==u;)h=e.heap[--c],h>r||(n[2*h+1]!==d&&(e.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),u--)}})(e,t),A(n,c,e.bl_count)},z=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))},B=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{E(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(E(e,i,e.bl_tree),s--),E(e,16,e.bl_tree),x(e,s-3,2)):s<=10?(E(e,17,e.bl_tree),x(e,s-3,3)):(E(e,18,e.bl_tree),x(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}};let O=!1;const M=(e,t,n,r)=>{x(e,0+(r?1:0),3),((e,t,n,r)=>{R(e),k(e,n),k(e,~n),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n)};var U={_tr_init:e=>{O||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<a[r];e++)f[n++]=r;for(f[n-1]=r,i=0,r=0;r<16;r++)for(g[r]=i,e=0;e<1<<s[r];e++)d[i++]=r;for(i>>=7;r<30;r++)for(g[r]=i<<7,e=0;e<1<<s[r]-7;e++)d[256+i++]=r;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,o[8]++;for(;e<=255;)u[2*e+1]=9,e++,o[9]++;for(;e<=279;)u[2*e+1]=7,e++,o[7]++;for(;e<=287;)u[2*e+1]=8,e++,o[8]++;for(A(u,287,o),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=S(e,5);_=new v(u,a,257,286,15),m=new v(h,s,0,30,15),b=new v(new Array(0),l,0,19,7)})(),O=!0),e.l_desc=new y(e.dyn_ltree,_),e.d_desc=new y(e.dyn_dtree,m),e.bl_desc=new y(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,I(e)},_tr_stored_block:M,_tr_flush_block:(e,t,n,r)=>{let i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),L(e,e.l_desc),L(e,e.d_desc),a=(e=>{let t;for(z(e,e.dyn_ltree,e.l_desc.max_code),z(e,e.dyn_dtree,e.d_desc.max_code),L(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?M(e,t,n,r):4===e.strategy||o===i?(x(e,2+(r?1:0),3),T(e,u,h)):(x(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*c[i]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),T(e,e.dyn_ltree,e.dyn_dtree)),I(e),r&&R(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{x(e,2,3),E(e,256,u),(e=>{16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},j=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};const D=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var F=(e,t,n,r)=>{const i=D,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},P={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Z={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:H,_tr_stored_block:W,_tr_flush_block:$,_tr_tally:V,_tr_align:q}=U,{Z_NO_FLUSH:K,Z_PARTIAL_FLUSH:G,Z_FULL_FLUSH:Y,Z_FINISH:J,Z_BLOCK:X,Z_OK:Q,Z_STREAM_END:ee,Z_STREAM_ERROR:te,Z_DATA_ERROR:ne,Z_BUF_ERROR:re,Z_DEFAULT_COMPRESSION:ie,Z_FILTERED:oe,Z_HUFFMAN_ONLY:ae,Z_RLE:se,Z_FIXED:le,Z_DEFAULT_STRATEGY:ce,Z_UNKNOWN:ue,Z_DEFLATED:he}=Z,de=258,fe=262,pe=103,ge=113,ve=666,_e=(e,t)=>(e.msg=P[t],t),me=e=>(e<<1)-(e>4?9:0),be=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let ye=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const we=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},ke=(e,t)=>{$(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,we(e.strm)},xe=(e,t)=>{e.pending_buf[e.pending++]=t},Ee=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Se=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=j(e.adler,t,i,n):2===e.state.wrap&&(e.adler=F(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Ae=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-fe?e.strstart-(e.w_size-fe):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+de;let f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=de-(d-o),o=d-de,r>a){if(e.match_start=t,a=r,r>=s)break;f=c[o+a-1],p=c[o+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead},Ie=e=>{const t=e.w_size;let n,r,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-fe)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=Se(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ye(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ye(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<fe&&0!==e.strm.avail_in)},Re=(e,t)=>{let n,r;for(;;){if(e.lookahead<fe){if(Ie(e),e.lookahead<fe&&t===K)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-fe&&(e.match_length=Ae(e,n)),e.match_length>=3)if(r=V(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ye(e,e.ins_h,e.window[e.strstart+1]);else r=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===J?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2},Ce=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<fe){if(Ie(e),e.lookahead<fe&&t===K)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-fe&&(e.match_length=Ae(e,n),e.match_length<=5&&(e.strategy===oe||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=V(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(ke(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=V(e,0,e.window[e.strstart-1]),r&&ke(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=V(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===J?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2};function Ne(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Te=[new Ne(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ie(e),0===e.lookahead&&t===K)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ke(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-fe&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===J?(ke(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(ke(e,!1),e.strm.avail_out),1)})),new Ne(4,4,8,4,Re),new Ne(4,5,16,8,Re),new Ne(4,6,32,32,Re),new Ne(4,4,16,16,Ce),new Ne(8,16,32,32,Ce),new Ne(8,16,128,128,Ce),new Ne(8,32,128,256,Ce),new Ne(32,128,258,1024,Ce),new Ne(32,258,258,4096,Ce)];function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=he,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ze=e=>{if(!e||!e.state)return _e(e,te);e.total_in=e.total_out=0,e.data_type=ue;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:ge,e.adler=2===t.wrap?0:1,t.last_flush=K,H(t),Q},Be=e=>{const t=ze(e);var n;return t===Q&&((n=e.state).window_size=2*n.w_size,be(n.head),n.max_lazy_match=Te[n.level].max_lazy,n.good_match=Te[n.level].good_length,n.nice_match=Te[n.level].nice_length,n.max_chain_length=Te[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Oe=(e,t,n,r,i,o)=>{if(!e)return te;let a=1;if(t===ie&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==he||r<8||r>15||t<0||t>9||o<0||o>le)return _e(e,te);8===r&&(r=9);const s=new Le;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Be(e)};var Me=Oe,Ue=(e,t)=>e&&e.state?2!==e.state.wrap?te:(e.state.gzhead=t,Q):te,je=(e,t)=>{let n,r;if(!e||!e.state||t>X||t<0)return e?_e(e,te):te;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===ve&&t!==J)return _e(e,0===e.avail_out?re:te);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,xe(i,31),xe(i,139),xe(i,8),i.gzhead?(xe(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),xe(i,255&i.gzhead.time),xe(i,i.gzhead.time>>8&255),xe(i,i.gzhead.time>>16&255),xe(i,i.gzhead.time>>24&255),xe(i,9===i.level?2:i.strategy>=ae||i.level<2?4:0),xe(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(xe(i,255&i.gzhead.extra.length),xe(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=F(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(xe(i,0),xe(i,0),xe(i,0),xe(i,0),xe(i,0),xe(i,9===i.level?2:i.strategy>=ae||i.level<2?4:0),xe(i,3),i.status=ge);else{let t=he+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=ae||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=ge,Ee(i,t),0!==i.strstart&&(Ee(i,e.adler>>>16),Ee(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=F(e.adler,i.pending_buf,i.pending-n,n)),we(e),n=i.pending,i.pending!==i.pending_buf_size));)xe(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=F(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=F(e.adler,i.pending_buf,i.pending-n,n)),we(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,xe(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=F(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=F(e.adler,i.pending_buf,i.pending-n,n)),we(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,xe(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=F(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=pe)}else i.status=pe;if(i.status===pe&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&we(e),i.pending+2<=i.pending_buf_size&&(xe(i,255&e.adler),xe(i,e.adler>>8&255),e.adler=0,i.status=ge)):i.status=ge),0!==i.pending){if(we(e),0===e.avail_out)return i.last_flush=-1,Q}else if(0===e.avail_in&&me(t)<=me(o)&&t!==J)return _e(e,re);if(i.status===ve&&0!==e.avail_in)return _e(e,re);if(0!==e.avail_in||0!==i.lookahead||t!==K&&i.status!==ve){let n=i.strategy===ae?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ie(e),0===e.lookahead)){if(t===K)return 1;break}if(e.match_length=0,n=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===J?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===se?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=de){if(Ie(e),e.lookahead<=de&&t===K)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+de;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=de-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=V(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=V(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===J?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2})(i,t):Te[i.level].func(i,t);if(3!==n&&4!==n||(i.status=ve),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),Q;if(2===n&&(t===G?q(i):t!==X&&(W(i,0,0,!1),t===Y&&(be(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),we(e),0===e.avail_out))return i.last_flush=-1,Q}return t!==J?Q:i.wrap<=0?ee:(2===i.wrap?(xe(i,255&e.adler),xe(i,e.adler>>8&255),xe(i,e.adler>>16&255),xe(i,e.adler>>24&255),xe(i,255&e.total_in),xe(i,e.total_in>>8&255),xe(i,e.total_in>>16&255),xe(i,e.total_in>>24&255)):(Ee(i,e.adler>>>16),Ee(i,65535&e.adler)),we(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?Q:ee)},De=e=>{if(!e||!e.state)return te;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==pe&&t!==ge&&t!==ve?_e(e,te):(e.state=null,t===ge?_e(e,ne):Q)},Fe=(e,t)=>{let n=t.length;if(!e||!e.state)return te;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return te;if(1===i&&(e.adler=j(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(be(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ie(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ye(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Ie(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,Q};const Pe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ze=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Pe(n,t)&&(e[t]=n[t])}}return e},He=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let We=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){We=!1}const $e=new Uint8Array(256);for(let e=0;e<256;e++)$e[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;$e[254]=$e[254]=1;var Ve=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},qe=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let a=$e[t];if(a>4)o[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&We)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},Ke=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+$e[e[n]]>t?n:t},Ge=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ye=Object.prototype.toString,{Z_NO_FLUSH:Je,Z_SYNC_FLUSH:Xe,Z_FULL_FLUSH:Qe,Z_FINISH:et,Z_OK:tt,Z_STREAM_END:nt,Z_DEFAULT_COMPRESSION:rt,Z_DEFAULT_STRATEGY:it,Z_DEFLATED:ot}=Z;function at(e){this.options=Ze({level:rt,method:ot,chunkSize:16384,windowBits:15,memLevel:8,strategy:it},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ge,this.strm.avail_out=0;let n=Me(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==tt)throw new Error(P[n]);if(t.header&&Ue(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ve(t.dictionary):"[object ArrayBuffer]"===Ye.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Fe(this.strm,e),n!==tt)throw new Error(P[n]);this._dict_set=!0}}function st(e,t){const n=new at(t);if(n.push(e,!0),n.err)throw n.msg||P[n.err];return n.result}at.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?et:Je,"string"==typeof e?n.input=Ve(e):"[object ArrayBuffer]"===Ye.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Xe||o===Qe)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=je(n,o),i===nt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=De(this.strm),this.onEnd(i),this.ended=!0,i===tt;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},at.prototype.onData=function(e){this.chunks.push(e)},at.prototype.onEnd=function(e){e===tt&&(this.result=He(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var lt={Deflate:at,deflate:st,deflateRaw:function(e,t){return(t=t||{}).raw=!0,st(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,st(e,t)},constants:Z},ct=function(e,t){let n,r,i,o,a,s,l,c,u,h,d,f,p,g,v,_,m,b,y,w,k,x,E,S;const A=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),i=e.next_out,S=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=A.dmax,l=A.wsize,c=A.whave,u=A.wnext,h=A.window,d=A.hold,f=A.bits,p=A.lencode,g=A.distcode,v=(1<<A.lenbits)-1,_=(1<<A.distbits)-1;e:do{f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),m=p[d&v];t:for(;;){if(b=m>>>24,d>>>=b,f-=b,b=m>>>16&255,0===b)S[i++]=65535&m;else{if(!(16&b)){if(0==(64&b)){m=p[(65535&m)+(d&(1<<b)-1)];continue t}if(32&b){A.mode=12;break e}e.msg="invalid literal/length code",A.mode=30;break e}y=65535&m,b&=15,b&&(f<b&&(d+=E[n++]<<f,f+=8),y+=d&(1<<b)-1,d>>>=b,f-=b),f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),m=g[d&_];n:for(;;){if(b=m>>>24,d>>>=b,f-=b,b=m>>>16&255,!(16&b)){if(0==(64&b)){m=g[(65535&m)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",A.mode=30;break e}if(w=65535&m,b&=15,f<b&&(d+=E[n++]<<f,f+=8,f<b&&(d+=E[n++]<<f,f+=8)),w+=d&(1<<b)-1,w>s){e.msg="invalid distance too far back",A.mode=30;break e}if(d>>>=b,f-=b,b=i-o,w>b){if(b=w-b,b>c&&A.sane){e.msg="invalid distance too far back",A.mode=30;break e}if(k=0,x=h,0===u){if(k+=l-b,b<y){y-=b;do{S[i++]=h[k++]}while(--b);k=i-w,x=S}}else if(u<b){if(k+=l+u-b,b-=u,b<y){y-=b;do{S[i++]=h[k++]}while(--b);if(k=0,u<y){b=u,y-=b;do{S[i++]=h[k++]}while(--b);k=i-w,x=S}}}else if(k+=u-b,b<y){y-=b;do{S[i++]=h[k++]}while(--b);k=i-w,x=S}for(;y>2;)S[i++]=x[k++],S[i++]=x[k++],S[i++]=x[k++],y-=3;y&&(S[i++]=x[k++],y>1&&(S[i++]=x[k++]))}else{k=i-w;do{S[i++]=S[k++],S[i++]=S[k++],S[i++]=S[k++],y-=3}while(y>2);y&&(S[i++]=S[k++],y>1&&(S[i++]=S[k++]))}break}}break}}while(n<r&&i<a);y=f>>3,n-=y,f-=y<<3,d&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),A.hold=d,A.bits=f};const ut=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ht=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ft=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var pt=(e,t,n,r,i,o,a,s)=>{const l=s.bits;let c,u,h,d,f,p,g=0,v=0,_=0,m=0,b=0,y=0,w=0,k=0,x=0,E=0,S=null,A=0;const I=new Uint16Array(16),R=new Uint16Array(16);let C,N,T,L=null,z=0;for(g=0;g<=15;g++)I[g]=0;for(v=0;v<r;v++)I[t[n+v]]++;for(b=l,m=15;m>=1&&0===I[m];m--);if(b>m&&(b=m),0===m)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(_=1;_<m&&0===I[_];_++);for(b<_&&(b=_),k=1,g=1;g<=15;g++)if(k<<=1,k-=I[g],k<0)return-1;if(k>0&&(0===e||1!==m))return-1;for(R[1]=0,g=1;g<15;g++)R[g+1]=R[g]+I[g];for(v=0;v<r;v++)0!==t[n+v]&&(a[R[t[n+v]]++]=v);if(0===e?(S=L=a,p=19):1===e?(S=ut,A-=257,L=ht,z-=257,p=256):(S=dt,L=ft,p=-1),E=0,v=0,g=_,f=o,y=b,w=0,h=-1,x=1<<b,d=x-1,1===e&&x>852||2===e&&x>592)return 1;for(;;){C=g-w,a[v]<p?(N=0,T=a[v]):a[v]>p?(N=L[z+a[v]],T=S[A+a[v]]):(N=96,T=0),c=1<<g-w,u=1<<y,_=u;do{u-=c,i[f+(E>>w)+u]=C<<24|N<<16|T|0}while(0!==u);for(c=1<<g-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,v++,0==--I[g]){if(g===m)break;g=t[n+a[v]]}if(g>b&&(E&d)!==h){for(0===w&&(w=b),f+=_,y=g-w,k=1<<y;y+w<m&&(k-=I[y+w],!(k<=0));)y++,k<<=1;if(x+=1<<y,1===e&&x>852||2===e&&x>592)return 1;h=E&d,i[h]=b<<24|y<<16|f-o|0}}return 0!==E&&(i[f+E]=g-w<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:gt,Z_BLOCK:vt,Z_TREES:_t,Z_OK:mt,Z_STREAM_END:bt,Z_NEED_DICT:yt,Z_STREAM_ERROR:wt,Z_DATA_ERROR:kt,Z_MEM_ERROR:xt,Z_BUF_ERROR:Et,Z_DEFLATED:St}=Z,At=12,It=30,Rt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nt=e=>{if(!e||!e.state)return wt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,mt},Tt=e=>{if(!e||!e.state)return wt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Nt(e)},Lt=(e,t)=>{let n;if(!e||!e.state)return wt;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?wt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Tt(e))},zt=(e,t)=>{if(!e)return wt;const n=new Ct;e.state=n,n.window=null;const r=Lt(e,t);return r!==mt&&(e.state=null),r};let Bt,Ot,Mt=!0;const Ut=e=>{if(Mt){Bt=new Int32Array(512),Ot=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pt(1,e.lens,0,288,Bt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pt(2,e.lens,0,32,Ot,0,e.work,{bits:5}),Mt=!1}e.lencode=Bt,e.lenbits=9,e.distcode=Ot,e.distbits=5},jt=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Dt=Tt,Ft=zt,Pt=(e,t)=>{let n,r,i,o,a,s,l,c,u,h,d,f,p,g,v,_,m,b,y,w,k,x,E=0;const S=new Uint8Array(4);let A,I;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return wt;n=e.state,n.mode===At&&(n.mode=13),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,h=s,d=l,x=mt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===c){n.check=0,S[0]=255&c,S[1]=c>>>8&255,n.check=F(n.check,S,2,0),c=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=It;break}if((15&c)!==St){e.msg="unknown compression method",n.mode=It;break}if(c>>>=4,u-=4,k=8+(15&c),0===n.wbits)n.wbits=k;else if(k>n.wbits){e.msg="invalid window size",n.mode=It;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:At,c=0,u=0;break;case 2:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==St){e.msg="unknown compression method",n.mode=It;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=It;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=F(n.check,S,2,0)),c=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,n.check=F(n.check,S,4,0)),c=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=F(n.check,S,2,0)),c=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(S[0]=255&c,S[1]=c>>>8&255,n.check=F(n.check,S,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f=n.length,f>s&&(f=s),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),k)),512&n.flags&&(n.check=F(n.check,r,f,o)),s-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<s);if(512&n.flags&&(n.check=F(n.check,r,f,o)),s-=f,o+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;f=0;do{k=r[o+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<s);if(512&n.flags&&(n.check=F(n.check,r,f,o)),s-=f,o+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=It;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=At;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}e.adler=n.check=Rt(c),c=0,u=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,yt;e.adler=n.check=1,n.mode=At;case At:if(t===vt||t===_t)break e;case 13:if(n.last){c>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=14;break;case 1:if(Ut(n),n.mode=20,t===_t){c>>>=2,u-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=It}c>>>=2,u-=2;break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=It;break}if(n.length=65535&c,c=0,u=0,n.mode=15,t===_t)break e;case 15:n.mode=16;case 16:if(f=n.length,f){if(f>s&&(f=s),f>l&&(f=l),0===f)break e;i.set(r.subarray(o,o+f),a),s-=f,o+=f,l-=f,a+=f,n.length-=f;break}n.mode=At;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=It;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.lens[R[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,A={bits:n.lenbits},x=pt(0,n.lens,0,19,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid code lengths set",n.mode=It;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],v=E>>>24,_=E>>>16&255,m=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(m<16)c>>>=v,u-=v,n.lens[n.have++]=m;else{if(16===m){for(I=v+2;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=It;break}k=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===m){for(I=v+3;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,k=0,f=3+(7&c),c>>>=3,u-=3}else{for(I=v+7;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,k=0,f=11+(127&c),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=It;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===It)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=It;break}if(n.lenbits=9,A={bits:n.lenbits},x=pt(1,n.lens,0,n.nlen,n.lencode,0,n.work,A),n.lenbits=A.bits,x){e.msg="invalid literal/lengths set",n.mode=It;break}if(n.distbits=6,n.distcode=n.distdyn,A={bits:n.distbits},x=pt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,A),n.distbits=A.bits,x){e.msg="invalid distances set",n.mode=It;break}if(n.mode=20,t===_t)break e;case 20:n.mode=21;case 21:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,ct(e,d),a=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===At&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],v=E>>>24,_=E>>>16&255,m=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(_&&0==(240&_)){for(b=v,y=_,w=m;E=n.lencode[w+((c&(1<<b+y)-1)>>b)],v=E>>>24,_=E>>>16&255,m=65535&E,!(b+v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,n.length=m,0===_){n.mode=26;break}if(32&_){n.back=-1,n.mode=At;break}if(64&_){e.msg="invalid literal/length code",n.mode=It;break}n.extra=15&_,n.mode=22;case 22:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=n.distcode[c&(1<<n.distbits)-1],v=E>>>24,_=E>>>16&255,m=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(0==(240&_)){for(b=v,y=_,w=m;E=n.distcode[w+((c&(1<<b+y)-1)>>b)],v=E>>>24,_=E>>>16&255,m=65535&E,!(b+v<=u);){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,64&_){e.msg="invalid distance code",n.mode=It;break}n.offset=m,n.extra=15&_,n.mode=24;case 24:if(n.extra){for(I=n.extra;u<I;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=It;break}n.mode=25;case 25:if(0===l)break e;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=It;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,p=a-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{i[a++]=g[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;i[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[o++]<<u,u+=8}if(d-=l,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?F(n.check,i,d,a-d):j(n.check,i,d,a-d)),d=l,(n.flags?c:Rt(c))!==n.check){e.msg="incorrect data check",n.mode=It;break}c=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[o++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=It;break}c=0,u=0}n.mode=29;case 29:x=bt;break e;case It:x=kt;break e;case 31:return xt;default:return wt}return e.next_out=a,e.avail_out=l,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<It&&(n.mode<27||t!==gt))&&jt(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?F(n.check,i,d,e.next_out-d):j(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===At?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===d||t===gt)&&x===mt&&(x=Et),x},Zt=e=>{if(!e||!e.state)return wt;let t=e.state;return t.window&&(t.window=null),e.state=null,mt},Ht=(e,t)=>{if(!e||!e.state)return wt;const n=e.state;return 0==(2&n.wrap)?wt:(n.head=t,t.done=!1,mt)},Wt=(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?wt:11===r.mode&&(i=1,i=j(i,t,n,0),i!==r.check)?kt:(o=jt(e,t,n,n),o?(r.mode=31,xt):(r.havedict=1,mt))):wt},$t=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Vt=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_FINISH:Kt,Z_OK:Gt,Z_STREAM_END:Yt,Z_NEED_DICT:Jt,Z_STREAM_ERROR:Xt,Z_DATA_ERROR:Qt,Z_MEM_ERROR:en}=Z;function tn(e){this.options=Ze({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ge,this.strm.avail_out=0;let n=Ft(this.strm,t.windowBits);if(n!==Gt)throw new Error(P[n]);if(this.header=new $t,Ht(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ve(t.dictionary):"[object ArrayBuffer]"===Vt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Wt(this.strm,t.dictionary),n!==Gt)))throw new Error(P[n])}function nn(e,t){const n=new tn(t);if(n.push(e),n.err)throw n.msg||P[n.err];return n.result}tn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Kt:qt,"[object ArrayBuffer]"===Vt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Pt(n,a),o===Jt&&i&&(o=Wt(n,i),o===Gt?o=Pt(n,a):o===Qt&&(o=Jt));n.avail_in>0&&o===Yt&&n.state.wrap>0&&0!==e[n.next_in];)Dt(n),o=Pt(n,a);switch(o){case Xt:case Qt:case Jt:case en:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===Yt))if("string"===this.options.to){let e=Ke(n.output,n.next_out),t=n.next_out-e,i=qe(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Gt||0!==s){if(o===Yt)return o=Zt(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},tn.prototype.onData=function(e){this.chunks.push(e)},tn.prototype.onEnd=function(e){e===Gt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=He(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var rn={Inflate:tn,inflate:nn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,nn(e,t)},ungzip:nn,constants:Z};const{Deflate:on,deflate:an,deflateRaw:sn,gzip:ln}=lt,{Inflate:cn,inflate:un,inflateRaw:hn,ungzip:dn}=rn;var fn={Deflate:on,deflate:an,deflateRaw:sn,gzip:ln,Inflate:cn,inflate:un,inflateRaw:hn,ungzip:dn,constants:Z},pn={},gn={};function vn(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function _n(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function mn(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function bn(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return gn;if(c)return c=!1,pn;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(r=e.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return l=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=u())!==gn;){for(var h=[];r!==pn&&r!==gn;)h.push(r),r=u();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+mn(-r,6):r>9999?"+"+mn(r,6):mn(r,4))+"-"+mn(n.getUTCMonth()+1,2)+"-"+mn(n.getUTCDate(),2)+(s?"T"+mn(i,2)+":"+mn(o,2)+":"+mn(a,2)+"."+mn(s,3)+"Z":a?"T"+mn(i,2)+":"+mn(o,2)+":"+mn(a,2)+"Z":o||i?"T"+mn(i,2)+":"+mn(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=vn(e);return function(r,i){return t(n(r),i,e)}}(e,t):vn(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=_n(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=_n(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}}var yn=bn("\t"),wn=yn.parse,kn=(yn.parseRows,yn.format,yn.formatBody,yn.formatRows,yn.formatRow,yn.formatValue,bn(",")),xn=kn.parse;kn.parseRows,kn.format,kn.formatBody,kn.formatRows,kn.formatRow,kn.formatValue,"Buffer"in window||(window.Buffer=e.lW);const En=e=>{var t,n,r,i,o,a;for(t="",r=e.length,n=0;n<r&&0!=(i=e[n++]);)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:o=e[n++],t+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=e[n++],a=e[n++],t+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}return t},Sn=e=>{for(var t=0,n=e.length-1;n>=0;n--)t*=256,t+=e[n];return t};var An=156;const In={gz:e=>fn.inflate(e,{to:"string"}),json:e=>JSON.parse(e),tsv:e=>wn(e.trim("\n")),csv:e=>xn(e.trim("\n"))};var Rn=n(76);const Cn=e=>{if(Array.isArray(e))return e.map((e=>Cn(e)));if("object"==typeof e){var t={};for(var n in e)t[n]=Cn(e[n]);return t}return"string"==typeof e?0==e.length?e:isNaN(e)?"true"==e.toLowerCase()||"false"!=e.toLowerCase()&&e:-1!==e.indexOf(".")?parseFloat(e):parseInt(e):e},Nn=Cn;class Tn extends HTMLElement{constructor(t){super();var n=this;this.shadow=this.attachShadow({mode:"open"}),this.mode=0,this.div=(0,Rn.h)("div"),this.header=(0,Rn.h)("div"),this.header.className="header",this.sidebar=(0,Rn.h)("div"),this.sidebar.className="sidebar",this.sidebarMenu=(0,Rn.h)("div"),this.sidebarMenu.className="sidebar-menu",this.sidebarContent=(0,Rn.h)("div"),this.sidebarContent.className="sidebar-content",this.sidebarUl=(0,Rn.h)("ul"),this.sidebarContent.appendChild(this.sidebarUl),this.sidebar.appendChild(this.sidebarMenu),this.sidebar.appendChild(this.sidebarContent),this.main=(0,Rn.h)("div"),this.main.className="main";var r,o,a=(0,Rn.h)("style");a.innerHTML='\n:host {\n  --menu-height: 0px;\n  --menu-color: #222;\n  --alt-menu-color: #333;\n  --sidebar-width: 150px;\n  --sidebar-background: #777777;\n  --sidebar-color: #fff;\n  --sidebar-menu-height: 50px;\n  --menu-font-color:#def;\n    background: #fff;\n    padding: 0;\n    margin: 0;\n    font-family: sans-serif;\n    width: 800px;\n    height: 600px;\n}\n.header {\n    display: block;\n    margin: 0 auto;\n    width: 100%;\n    color: var(--menu-font-color);\n    max-width: 100%;\n    box-shadow: none;\n    background-color: var(--menu-color);\n    position: absolute;\n    height: var(--menu-height)!important;\n    overflow: hidden;\n    z-index: 10;\n}\n.main {\n    margin: auto auto;\n    display: block;\n    background-color: lightyellow;\n    position: absolute;\n    width: calc(100% - var(--sidebar-width));\n    margin-left: var(--sidebar-width);\n    height: calc(100% - var(--menu-height));\n    margin-top: var(--menu-height);\n    padding-top: 20px;\n}\n\n.sidebar {\n    height: calc(100% - var(--menu-height));\n    position: absolute;\n    left: 0;\n    width: var(--sidebar-width);\n    margin-top: var(--menu-height);\n    background: var(--sidebar-background);\n    color: var(--sidebar-color);\n}\n\n.sidebar-menu {\n    height: var(--sidebar-menu-height);\n    background: #555555;\n    margin:auto;\n    text-align:center;\n    padding-top: 3px;\n}\n.sidebar-content {\n    height: calc(100% - var(--menu-height) - var(--sidebar-menu-height));\n    overflow-y: auto;\n}\n.sidebar ul {\n    list-style-type:none;\n}\n.sidebar li:hover {\n    background-color: #444499;\n}\n\n .title {\n            font-size: large;\n        }\n\n        .author {\n            font-size: small;\n            color: grey;\n        }\n\n        .content {\n            padding-top: 20px;\n        }\n\n.autocomplete {\n    background: white;\n    color: #333333;\n    z-index: 1000;\n    font: 14px/22px "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n    overflow: auto;\n    box-sizing: border-box;\n    border: 1px solid rgba(50, 50, 50, 0.6);\n    min-height: 400px;\n}\n\n.autocomplete * {\n    font: inherit;\n}\n\n.autocomplete > div {\n    padding: 0 4px;\n}\n\n.autocomplete .group {\n    background: #eee;\n}\n\n.autocomplete > div:hover:not(.group),\n.autocomplete > div.selected {\n    background: #81ca91;\n    cursor: pointer;\n}\n\n',this.shadow.appendChild(a),this.div.appendChild(this.header),this.div.appendChild(this.sidebar),this.div.appendChild(this.main),this.shadow.appendChild(this.div),"url"in t&&(r=t.url,o=new i(r),new Promise(((t,n)=>{var r=e.lW.alloc(An);o.read(r,0,An,0).then((n=>{var i=(e=>{var t=En(e.slice(0,4)),n=Sn(e.slice(4,12)),r=Sn(e.slice(12,20)),i=En(e.slice(20,84)),o=Sn(e.slice(148,156));return{magic:t,version:"v"+n+"."+r,suffix:i,parse:i.split(".").reverse(),size:o}})(r),a=e.lW.alloc(i.size);o.read(a,0,i.size,An).then((n=>{for(var r=a.buffer,s=0;s<i.parse.length;s++)r=In[i.parse[s]](r);i.meta=r,t(i);var l=e.lW.alloc(72);o.read(l,0,72,An+i.size).then((n=>{var r=En(l.slice(0,64)),a=Sn(l.slice(64,72));i.n=a,i.entrysuffix=r,i.entryparse=r.split(".").reverse();var s=e.lW.alloc(8*a);o.read(s,0,8*a,An+i.size+72).then((n=>{i.sizes=(e=>{for(var t=new Array(e.length/8),n=0;n<e.length;n+=8)t[n/8]=Sn(e.slice(n,n+8));return t})(s),i.offset=An+i.size+72+8*a,i.offsets=new Array(a);for(var r=i.offset,l=0;l<a;l++)i.offsets[l]=r,r+=i.sizes[l];i.fetch=t=>new Promise(((n,r)=>{(t<0||t>=a)&&r({error:"out of range"});var s=i.sizes[t],l=i.offsets[t],c=e.lW.alloc(s);o.read(c,0,s,l).then((e=>{for(var r=c.buffer,o=0;o<i.entryparse.length;o++)r=In[i.entryparse[o]](r);n({i:t,data:r})}))})),t(i)}))}))}))})).catch((e=>{n(e)}))}))).then((e=>{console.log(e),n.agent=e,(e=>{e.meta=Nn(e.meta);var t=e.meta;e.authors=[],e.authorMap={},t.forEach(((t,n)=>{t.Author in e.authorMap||(e.authors.push(t.Author),e.authorMap[t.Author]=[]),e.authorMap[t.Author].push(n)}))})(n.agent),n.render()}))}render(){var e=(0,Rn.h)("input");e.setAttribute("placeholder","");var t=(0,Rn.h)("input");t.setAttribute("placeholder",""),t.setAttribute("type","number"),t.disabled=!0;var n=(0,Rn.h)("div"),r=this;r.sidebarMenu.appendChild(t),r.sidebarMenu.appendChild(e),r.sidebarMenu.appendChild(n);var i=r.agent.authors;r.autocomplete=function(e){var t=document,n=e.container||t.createElement("div"),r=n.parentNode,i=n.style;i.border="0px";var o,a,s=navigator.userAgent,l=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((e=>navigator.userAgent.match(e))),c=-1!==s.indexOf("Firefox")&&-1!==s.indexOf("Mobile"),u=e.debounceWaitMs||0,h=e.preventSubmit||!1,d=e.disableAutoSelect||!1,f=c?"input":"keyup",p=[],g="",v=2,_=e.showOnFocus,m=0;if(void 0!==e.minLength&&(v=e.minLength),!e.input)throw new Error("input undefined");var b=e.input;function y(){a&&window.clearTimeout(a)}function w(){return!!n.parentNode}function k(){var e;m++,p=[],g="",o=void 0,(e=n.parentNode)&&e.removeChild(n)}function x(){for(i.border=null;n.firstChild;)n.removeChild(n.firstChild);var a=function(e,n){var r=t.createElement("div");return r.textContent=e.label||"",r};e.render&&(a=e.render);var s=function(e,n){var r=t.createElement("div");return r.textContent=e,r};e.renderGroup&&(s=e.renderGroup);var l=t.createDocumentFragment(),c="#9?$";if(p.forEach((function(t){if(t.group&&t.group!==c){c=t.group;var n=s(t.group,g);n&&(n.className+=" group",l.appendChild(n))}var r=a(t,g);r&&(r.addEventListener("click",(function(n){e.onSelect(t,b),k(),n.preventDefault(),n.stopPropagation()})),t===o&&(r.className+=" selected"),l.appendChild(r))})),n.appendChild(l),p.length<1){if(!e.emptyMsg)return void k();var u=t.createElement("div");u.className="empty",u.textContent=e.emptyMsg,n.appendChild(u)}r?r.appendChild(n):t.body.appendChild(n),function(){if(w()){i.height="auto",i.width=b.offsetWidth+"px";var o,a=0;s(),s(),e.customize&&o&&e.customize(b,o,n,a)}function s(){var e,n=t.documentElement,s=n.clientTop||t.body.clientTop||0,l=n.clientLeft||t.body.clientLeft||0;o=b.getBoundingClientRect(),e=void 0!==r&&"getBoundingClientRect"in r?r.getBoundingClientRect():{top:0,left:0};var c=o.top+b.offsetHeight+0-s-(e.top||0),u=o.left+0-l-(e.left||0);i.top=c+"px",i.left=u+"px",(a=window.innerHeight-(o.top+b.offsetHeight))<0&&(a=0),i.top=c+"px",i.bottom="",i.left=u+"px",i.maxHeight=a+"px"}}(),function(){var e=n.getElementsByClassName("selected");if(e.length>0){var t=e[0],r=t.previousElementSibling;if(r&&-1!==r.className.indexOf("group")&&!r.previousElementSibling&&(t=r),t.offsetTop<n.scrollTop)n.scrollTop=t.offsetTop;else{var i=t.offsetTop+t.offsetHeight,o=n.scrollTop+n.offsetHeight;i>o&&(n.scrollTop+=i-o)}}}()}function E(){w()&&x()}function S(){E()}function A(e){e.target!==n?E():e.preventDefault()}function I(e){for(var t=e.which||e.keyCode||0,n=0,r=[38,13,27,39,37,16,17,18,20,91,9];n<r.length;n++)if(t===r[n])return;t>=112&&t<=123||40===t&&w()||T(0)}function R(e){T(0)}function C(t){var n=t.which||t.keyCode||0;if(38===n||40===n||27===n){var r=w();if(27===n)k();else{if(!r||p.length<1)return;38===n?function(){if(p.length<1)o=void 0;else if(o===p[0])o=p[p.length-1];else for(var e=p.length-1;e>0;e--)if(o===p[e]||1===e){o=p[e-1];break}}():function(){if(p.length<1&&(o=void 0),o&&o!==p[p.length-1]){for(var e=0;e<p.length-1;e++)if(o===p[e]){o=p[e+1];break}}else o=p[0]}(),x()}return t.preventDefault(),void(r&&t.stopPropagation())}13===n&&(o&&(e.onSelect(o,b),k()),h&&t.preventDefault())}function N(){_&&T(1)}function T(t){var n=++m,r=b.value;r.length>=v||1===t?(y(),a=window.setTimeout((function(){e.fetch(r,(function(e){m===n&&e&&(g=r,o=(p=e).length<1||d?void 0:p[0],x())}),t)}),0===t?u:0)):k()}function L(){setTimeout((function(){t.activeElement!==b&&k()}),200)}return n.className="autocomplete "+(e.className||""),i.position="absolute",n.addEventListener("mousedown",(function(e){e.stopPropagation(),e.preventDefault()})),n.addEventListener("focus",(function(){return b.focus()})),b.addEventListener("keydown",C),l?b.addEventListener("input",R):b.addEventListener(f,I),b.addEventListener("blur",L),b.addEventListener("focus",N),window.addEventListener("resize",S),t.addEventListener("scroll",A,!0),{destroy:function(){b.removeEventListener("focus",N),b.removeEventListener("keydown",C),l?b.removeEventListener("input",R):b.removeEventListener(f,I),b.removeEventListener("blur",L),window.removeEventListener("resize",S),t.removeEventListener("scroll",A,!0),y(),k()}}}({input:e,fetch:function(e,t){t(i.filter((t=>t.startsWith(e))).map((e=>({label:e,value:e}))))},onSelect:function(n){e.value=n.value,r.sidebarUl.innerHTML="",r.agent.authorMap[e.value].forEach((e=>{var n=(0,Rn.h)("li");n.value=e,n.innerHTML=r.agent.meta[e].Title,r.sidebarUl.appendChild(n),n.onclick=()=>{r.agent.fetch(e).then((e=>{r.main.innerHTML="",r.main.appendChild((e=>{var t=(0,Rn.h)("div");t.style.textAlign="center",t.style.margin="auto";var n=(0,Rn.h)("div");n.className="title",n.innerHTML=e.title;var r=(0,Rn.h)("div");r.className="author",r.innerHTML=e.author;var i=(0,Rn.h)("div");return i.className="content",e.paragraphs.forEach((e=>{var t=(0,Rn.h)("div");t.innerHTML=e,i.appendChild(t)})),t.appendChild(n),t.appendChild(r),t.appendChild(i),t})(e.data))})).catch((e=>{console.log(e),r.main.innerHTML="No Data"})),t.value=e}}))},container:n,minLength:1})}connectedCallback(){this.div.offsetWidth>800&&this.style.setProperty("--sidebar-width","320px")}}customElements.define("shi-she",Tn);const Ln=Tn})(),r})()));